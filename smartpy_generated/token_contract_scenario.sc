[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 129}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 131}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 140}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 141 (account_of_seed \"Administrator\" 134) (account_of_seed \"Alice\" 135) (account_of_seed \"Robert\" 136) (account_of_seed \"Carlos\" 137))", "line_no": 141}, {"action": "show", "html": true, "stripStrings": false, "expression": "(reduce (attr (account_of_seed \"Carlos\" 137) \"public_key\" 137) 137)", "line_no": 142}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 144}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 147}, {"action": "newContract", "id": 0, "export": "(storage (record 6 (administrator (reduce (attr (account_of_seed \"Administrator\" 134) \"address\" 134) 134)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 12) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple \"address\" \"bytes\") (option \"nat\")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple \"address\" \"bytes\") \"timestamp\") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap \"address\" (option \"nat\")) 7)))\nstorage_type (())\nmessages ((add_permits True ((set_type (params 46) (list (tuple \"key\" (tuple \"signature\" \"bytes\"))) 47) (verify (invert (attr (data) \"paused\" 13) 48) False 48) (defineLocal \"unsigned\" (literal (bytes \"0x0000\") 50) 50) (defineLocal \"pk_address\" (to_address (self) \"None\") 51) (forGroup \"permit\" (params 46) ((set (getLocal \"unsigned\" 148) (second (second (iter \"permit\" 52) 53) 53) 53) (set (getLocal \"pk_address\" 148) (to_address (implicit_account (hash_key (first (iter \"permit\" 52) 54) 54) 54) 54) 54) (verify (invert (contains (attr (data) \"permits\" 55) (tuple 55 (getLocal \"pk_address\" 55) (getLocal \"unsigned\" 55)) 55) 55) False (literal (string \"DUP_PERMIT\") 55) 55) (verify (check_signature (first (iter \"permit\" 52) 56) (first (second (iter \"permit\" 52) 56) 56) (getLocal \"unsigned\" 56) 56) False (tuple 56 (literal (string \"MISSIGNED\") 148) (getLocal \"unsigned\" 56)) 56) (set (getItem (attr (data) \"permits\" 55) (tuple 57 (getLocal \"pk_address\" 57) (getLocal \"unsigned\" 57)) 57) (now) 57) (set (attr (data) \"counter\" 58) (add (attr (data) \"counter\" 58) (literal (intOrNat 1) 58) 58) 58)) 52))) (approve True ((set_type (params 61) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 62) (verify (invert (attr (data) \"paused\" 13) 63) False 63) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 15) (sender) 64) \"approvals\" 64) (attr (params 61) \"spender\" 64) (literal (intOrNat 0) 64) 64) (literal (intOrNat 0) 65) 65) (eq (attr (params 61) \"value\" 65) (literal (intOrNat 0) 65) 65) 65) False (literal (string \"UnsafeAllowanceChange\") 65) 65) (set (getItem (attr (getItem (attr (data) \"balances\" 15) (sender) 66) \"approvals\" 66) (attr (params 61) \"spender\" 64) 66) (attr (params 61) \"value\" 65) 66))) (burn True ((set_type (params 89) (record ((address \"address\") (value \"nat\")) None) 90) (verify (eq (sender) (attr (data) \"administrator\" 12) 91) False 91) (verify (ge (attr (getItem (attr (data) \"balances\" 15) (attr (params 89) \"address\" 92) 92) \"balance\" 92) (attr (params 89) \"value\" 92) 92) False 92) (set (attr (getItem (attr (data) \"balances\" 15) (attr (params 89) \"address\" 92) 93) \"balance\" 93) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 15) (attr (params 89) \"address\" 92) 93) \"balance\" 93) (attr (params 89) \"value\" 92) 93) 93) \"Some\" \"None\" 93) 93) (set (attr (data) \"totalSupply\" 94) (openVariant (isNat (sub (attr (data) \"totalSupply\" 94) (attr (params 89) \"value\" 92) 94) 94) \"Some\" \"None\" 94) 94))) (getAdministrator True ((set (operations 114) (cons (transfer (attr (data) \"administrator\" 12) (literal (mutez 0) 114) (openVariant (contract \"\" \"address\" (attr (params 113) \"target\" 114) 114) \"Some\" \"None\" 114) 114) (operations 114) 114) 114))) (getAllowance True ((set (operations 106) (cons (transfer (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (params 105) \"arg\" 106) \"owner\" 106) 106) \"approvals\" 106) (attr (attr (params 105) \"arg\" 106) \"spender\" 106) 106) (literal (mutez 0) 106) (openVariant (contract \"\" \"nat\" (attr (params 105) \"target\" 106) 106) \"Some\" \"None\" 106) 106) (operations 106) 106) 106))) (getBalance True ((set (operations 102) (cons (transfer (attr (getItem (attr (data) \"balances\" 15) (attr (attr (params 101) \"arg\" 102) \"owner\" 102) 102) \"balance\" 102) (literal (mutez 0) 102) (openVariant (contract \"\" \"nat\" (attr (params 101) \"target\" 102) 102) \"Some\" \"None\" 102) 102) (operations 102) 102) 102))) (getTotalSupply True ((set (operations 110) (cons (transfer (attr (data) \"totalSupply\" 94) (literal (mutez 0) 110) (openVariant (contract \"\" \"nat\" (attr (params 109) \"target\" 110) 110) \"Some\" \"None\" 110) 110) (operations 110) 110) 110))) (mint True ((set_type (params 81) (record ((address \"address\") (value \"nat\")) None) 82) (verify (eq (sender) (attr (data) \"administrator\" 12) 83) False 83) (ifBlock (invert (contains (attr (data) \"balances\" 15) (attr (params 81) \"address\" 84) 97) 97) ((set (getItem (attr (data) \"balances\" 15) (attr (params 81) \"address\" 84) 98) (record 98 (approvals (map 98 )) (balance (literal (intOrNat 0) 98))) 98)) 97) (set (attr (getItem (attr (data) \"balances\" 15) (attr (params 81) \"address\" 84) 85) \"balance\" 85) (add (attr (getItem (attr (data) \"balances\" 15) (attr (params 81) \"address\" 84) 85) \"balance\" 85) (attr (params 81) \"value\" 85) 85) 85) (set (attr (data) \"totalSupply\" 94) (add (attr (data) \"totalSupply\" 94) (attr (params 81) \"value\" 85) 86) 86))) (setAdministrator True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"administrator\" 12) 77) False 77) (set (attr (data) \"administrator\" 12) (params 75) 78))) (setPause True ((set_type (params 69) \"bool\" 70) (verify (eq (sender) (attr (data) \"administrator\" 12) 71) False 71) (set (attr (data) \"paused\" 13) (params 69) 72))) (transfer True ((set_type (params 24) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 25) (defineLocal \"y5\" (call_lambda (global \"transfer_helper\" 148) (record 27 (in_param (record 26 (from_ (attr (params 24) \"from_\" 26)) (sender_ (sender)) (to_ (attr (params 24) \"to_\" 26)) (value (attr (params 24) \"value\" 26)))) (in_storage (data))) 27) 27) (set (data) (attr (getLocal \"y5\" 27) \"storage\" 27) 27) (forGroup \"op\" (attr (getLocal \"y5\" 27) \"operations\" 27) ((set (operations 27) (cons (iter \"op\" 27) (operations 27) 27) 27)) 27))) (transfer_signed True ((set_type (params 30) (record ((counter \"nat\") (from_ \"address\") (to_ \"address\") (value \"nat\")) None) 31) (defineLocal \"sender\" (sender) 32) (ifBlock (neq (attr (params 30) \"from_\" 33) (getLocal \"sender\" 33) 33) ((verify (contains (attr (data) \"permits\" 55) (tuple 37 (attr (params 30) \"from_\" 33) (pack (tuple 35 (tuple 35 (chain_id) (to_address (self) \"None\")) (tuple 35 (attr (params 30) \"counter\" 35) (hashCrypto \"BLAKE2B\" (pack (tuple 34 (attr (params 30) \"from_\" 33) (tuple 34 (attr (params 30) \"to_\" 34) (attr (params 30) \"value\" 34))) 34) 34))) 35)) 37) False (tuple 38 (literal (string \"NO_PERMIT\") 148) (tuple 38 (attr (params 30) \"from_\" 33) (pack (tuple 35 (tuple 35 (chain_id) (to_address (self) \"None\")) (tuple 35 (attr (params 30) \"counter\" 35) (hashCrypto \"BLAKE2B\" (pack (tuple 34 (attr (params 30) \"from_\" 33) (tuple 34 (attr (params 30) \"to_\" 34) (attr (params 30) \"value\" 34))) 34) 34))) 35))) 37) (delItem (attr (data) \"permits\" 55) (tuple 40 (attr (params 30) \"from_\" 33) (pack (tuple 35 (tuple 35 (chain_id) (to_address (self) \"None\")) (tuple 35 (attr (params 30) \"counter\" 35) (hashCrypto \"BLAKE2B\" (pack (tuple 34 (attr (params 30) \"from_\" 33) (tuple 34 (attr (params 30) \"to_\" 34) (attr (params 30) \"value\" 34))) 34) 34))) 35)) 40) (set (getLocal \"sender\" 148) (attr (params 30) \"from_\" 33) 42)) 33) (defineLocal \"y6\" (call_lambda (global \"transfer_helper\" 148) (record 43 (in_param (record 43 (from_ (attr (params 30) \"from_\" 33)) (sender_ (getLocal \"sender\" 43)) (to_ (attr (params 30) \"to_\" 34)) (value (attr (params 30) \"value\" 34)))) (in_storage (data))) 43) 43) (set (data) (attr (getLocal \"y6\" 43) \"storage\" 43) 43) (forGroup \"op\" (attr (getLocal \"y6\" 43) \"operations\" 43) ((set (operations 43) (cons (iter \"op\" 43) (operations 43) 43) 43)) 43))))\nflags ()\nglobals ((transfer_helper (lambda 0 \"\" 148 ((defineLocal \"__operations__\" (type_annotation (list 148 ) (list \"operation\") 148) 148) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_storage\" 148) (unknown 14) 148) 148) (seq \"__s4\" ((verify (or (eq (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"sender_\" 12) (attr (data) \"administrator\" 12) 12) (and (invert (attr (data) \"paused\" 13) 13) (or (eq (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"sender_\" 12) 14) (ge (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) 15) \"approvals\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"sender_\" 12) 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"value\" 15) 15) 14) 13) 12) False 12) (ifBlock (invert (contains (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"to_\" 16) 97) 97) ((set (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"to_\" 16) 98) (record 98 (approvals (map 98 )) (balance (literal (intOrNat 0) 98))) 98)) 97) (verify (ge (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) 17) \"balance\" 17) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"value\" 15) 17) False 17) (set (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) 18) \"balance\" 18) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) 18) \"balance\" 18) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"value\" 15) 18) 18) \"Some\" \"None\" 18) 18) (set (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"to_\" 16) 19) \"balance\" 19) (add (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"to_\" 16) 19) \"balance\" 19) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"value\" 15) 19) 19) (ifBlock (and (neq (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"sender_\" 12) 20) (neq (attr (data) \"administrator\" 12) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"sender_\" 12) 20) 20) ((set (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) 21) \"approvals\" 21) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"sender_\" 12) 21) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"from_\" 14) 21) \"approvals\" 21) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"sender_\" 12) 21) (attr (attr (lambdaParams 0 \"\" 148 (unknown 13)) \"in_param\" 148) \"value\" 15) 21) 21) \"Some\" \"None\" 21) 21)) 20)) 148) (bind \"__s4\" ((result (record 148 (operations (getLocal \"__operations__\" 148)) (result (getLocal \"__s4\" 148)) (storage (getLocal \"__storage__\" 148))) 148)) 148)))))\nentry_points_layout ()\nbalance ())", "line_no": 148, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 149}, {"action": "message", "id": 0, "message": "mint", "params": "(record 150 (address (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (value (literal (intOrNat 12) 150)))", "line_no": 150, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 150)", "show": true, "valid": "(literal (bool True) 150)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 151 (address (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (value (literal (intOrNat 3) 151)))", "line_no": 151, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 151)", "show": true, "valid": "(literal (bool True) 151)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 152 (address (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (value (literal (intOrNat 3) 152)))", "line_no": 152, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 152)", "show": true, "valid": "(literal (bool True) 152)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 152) \"balances\" 153) (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135) 153) \"balance\" 153) (literal (intOrNat 18) 153) 153)", "line_no": 153}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 154}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 155 (from_ (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 4) 155)))", "line_no": 155, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 155)", "show": true, "valid": "(literal (bool True) 155)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 155) \"balances\" 156) (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135) 156) \"balance\" 156) (literal (intOrNat 14) 156) 156)", "line_no": 156}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 157}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 158 (from_ (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 4) 158)))", "line_no": 158, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 158)", "show": true, "valid": "(literal (bool False) 158)"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 159}, {"action": "message", "id": 0, "message": "approve", "params": "(record 160 (spender (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 5) 160)))", "line_no": 160, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 160)", "show": true, "valid": "(literal (bool True) 160)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 161 (from_ (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 4) 161)))", "line_no": 161, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 161)", "show": true, "valid": "(literal (bool True) 161)"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 162}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 163 (from_ (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 4) 163)))", "line_no": 163, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 163)", "show": true, "valid": "(literal (bool False) 163)"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 164}, {"action": "message", "id": 0, "message": "burn", "params": "(record 165 (address (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 1) 165)))", "line_no": 165, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 165)", "show": true, "valid": "(literal (bool True) 165)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 165) \"balances\" 166) (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135) 166) \"balance\" 166) (literal (intOrNat 10) 166) 166)", "line_no": 166}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 167}, {"action": "message", "id": 0, "message": "burn", "params": "(record 168 (address (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 1) 168)))", "line_no": 168, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 168)", "show": true, "valid": "(literal (bool False) 168)"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 169}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 170)", "line_no": 170, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 170)", "show": true, "valid": "(literal (bool True) 170)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 171 (from_ (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 4) 171)))", "line_no": 171, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 171)", "show": true, "valid": "(literal (bool False) 171)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 171) \"balances\" 172) (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135) 172) \"balance\" 172) (literal (intOrNat 10) 172) 172)", "line_no": 172}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 173}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 174 (from_ (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 1) 174)))", "line_no": 174, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 174)", "show": true, "valid": "(literal (bool True) 174)"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 175}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 176)", "line_no": 176, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 176)", "show": true, "valid": "(literal (bool True) 176)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 176) \"balances\" 177) (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135) 177) \"balance\" 177) (literal (intOrNat 9) 177) 177)", "line_no": 177}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 178 (from_ (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 1) 178)))", "line_no": 178, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 178)", "show": true, "valid": "(literal (bool True) 178)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 178) \"totalSupply\" 180) (literal (intOrNat 17) 180) 180)", "line_no": 180}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 178) \"balances\" 181) (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135) 181) \"balance\" 181) (literal (intOrNat 8) 181) 181)", "line_no": 181}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 178) \"balances\" 181) (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136) 182) \"balance\" 182) (literal (intOrNat 9) 182) 182)", "line_no": 182}, {"action": "html", "tag": "h2", "inner": "Permit Submission", "line_no": 184}, {"action": "message", "id": 0, "message": "mint", "params": "(record 185 (address (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137)) (value (literal (intOrNat 10) 185)))", "line_no": 185, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 185)", "show": true, "valid": "(literal (bool True) 185)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 185) \"balances\" 186) (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) 186) \"balance\" 186) (literal (intOrNat 10) 186) 186)", "line_no": 186}, {"action": "message", "id": 0, "message": "add_permits", "params": "(list 193 (tuple 193 (reduce (attr (account_of_seed \"Carlos\" 137) \"public_key\" 137) 137) (tuple 193 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 137) \"secret_key\" 137) 137) (pack (tuple 191 (tuple 191 (literal (chain_id_cst \"0x9caecab9\") 191) (literal (local-address 0) 6)) (tuple 191 (attr (contractData 0 185) \"counter\" 191) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136) (literal (intOrNat 10) 193))) 188) 189))) 191) \"Raw\" 192) 192) (pack (tuple 191 (tuple 191 (literal (chain_id_cst \"0x9caecab9\") 191) (literal (local-address 0) 6)) (tuple 191 (attr (contractData 0 185) \"counter\" 191) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136) (literal (intOrNat 10) 193))) 188) 189))) 191))))", "line_no": 193, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 193)", "show": true, "valid": "(literal (bool True) 193)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 193) \"counter\" 194) (literal (intOrNat 1) 194) 194)", "line_no": 194}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 193) \"permits\" 197) (tuple 197 (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) (pack (tuple 196 (tuple 196 (literal (chain_id_cst \"0x9caecab9\") 196) (literal (local-address 0) 6)) (tuple 196 (sub (attr (contractData 0 193) \"counter\" 194) (literal (intOrNat 1) 196) 196) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136) (literal (intOrNat 10) 197))) 188) 189))) 196)) 197) (unknown 23) 197) 197) (pack (type_annotation (literal (timestamp 1571761674) 197) (unknown 23) 197) 197) 197)", "line_no": 197}, {"action": "html", "tag": "h2", "inner": "Execute transfer using permit", "line_no": 199}, {"action": "message", "id": 0, "message": "transfer_signed", "params": "(record 200 (counter (openVariant (isNat (sub (attr (contractData 0 193) \"counter\" 194) (literal (intOrNat 1) 200) 200) 200) \"Some\" \"None\" 200)) (from_ (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137)) (to_ (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)) (value (literal (intOrNat 10) 200)))", "line_no": 200, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 200)", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 200)", "show": true, "valid": "(literal (bool True) 200)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 200) \"balances\" 201) (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) 201) \"balance\" 201) (literal (intOrNat 0) 201) 201)", "line_no": 201}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 200) \"balances\" 201) (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136) 202) \"balance\" 202) (literal (intOrNat 19) 202) 202)", "line_no": 202}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 200) \"permits\" 204) (tuple 204 (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) (pack (tuple 196 (tuple 196 (literal (chain_id_cst \"0x9caecab9\") 196) (literal (local-address 0) 6)) (tuple 196 (sub (attr (contractData 0 193) \"counter\" 194) (literal (intOrNat 1) 196) 196) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 137) \"address\" 137) 137) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136) (literal (intOrNat 10) 204))) 188) 189))) 196)) 204) 204)", "line_no": 204}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 206}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 207}, {"action": "newContract", "id": 2, "export": "(storage (record 118 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 122) (variant \"Some\" (params 121) 122) 122))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 209, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(record 210 (arg (record 210 (owner (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)))) (target (literal (local-address 2) 119)))", "line_no": 210, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 210)", "show": true, "valid": "(literal (bool True) 210)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 209) \"last\" 211) (unknown 24) 211) 211) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 211) 211) (unknown 24) 211) 211) 211)", "line_no": 211}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 213}, {"action": "newContract", "id": 4, "export": "(storage (record 118 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 122) (variant \"Some\" (params 121) 122) 122))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 215, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(record 216 (target (literal (local-address 4) 119)))", "line_no": 216, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 216)", "show": true, "valid": "(literal (bool True) 216)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 215) \"last\" 217) (unknown 25) 217) 217) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 134) \"address\" 134) 134) 217) (unknown 25) 217) 217) 217)", "line_no": 217}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 219}, {"action": "newContract", "id": 6, "export": "(storage (record 118 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 122) (variant \"Some\" (params 121) 122) 122))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 221, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(record 222 (target (literal (local-address 6) 119)))", "line_no": 222, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 222)", "show": true, "valid": "(literal (bool True) 222)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 6 221) \"last\" 223) (unknown 26) 223) 223) (pack (type_annotation (variant \"Some\" (literal (intOrNat 27) 223) 223) (unknown 26) 223) 223) 223)", "line_no": 223}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 225}, {"action": "newContract", "id": 8, "export": "(storage (record 118 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 122) (variant \"Some\" (params 121) 122) 122))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 227, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(record 228 (arg (record 228 (owner (reduce (attr (account_of_seed \"Alice\" 135) \"address\" 135) 135)) (spender (reduce (attr (account_of_seed \"Robert\" 136) \"address\" 136) 136)))) (target (literal (local-address 8) 119)))", "line_no": 228, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 228)", "show": true, "valid": "(literal (bool True) 228)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 8 227) \"last\" 229) (unknown 27) 229) 229) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 229) 229) (unknown 27) 229) 229) 229)", "line_no": 229}]}]