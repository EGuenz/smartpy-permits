[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 130}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 132}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 141}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 142 (account_of_seed \"Administrator\" 135) (account_of_seed \"Alice\" 136) (account_of_seed \"Robert\" 137) (account_of_seed \"Carlos\" 138))", "line_no": 142}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 144}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 147}, {"action": "newContract", "id": 0, "export": "(storage (record 6 (administrator (reduce (attr (account_of_seed \"Administrator\" 135) \"address\" 135) 135)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 13) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 8 ((literal (string \"\") 148) (literal (bytes \"0x74657a6f732d73746f726167653a\") 8)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple \"address\" \"bytes\") (option \"nat\")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple \"address\" \"bytes\") \"timestamp\") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap \"address\" (option \"nat\")) 7)))\nstorage_type (())\nmessages ((add_permits True ((set_type (params 45) (list (tuple \"key\" (tuple \"signature\" \"bytes\"))) 46) (verify (invert (attr (data) \"paused\" 13) 47) False 47) (defineLocal \"params_hash\" (literal (bytes \"0x0000\") 49) 49) (defineLocal \"unsigned\" (literal (bytes \"0x0000\") 50) 50) (defineLocal \"pk_address\" (to_address (self) \"None\") 51) (forGroup \"permit\" (params 45) ((set (getLocal \"params_hash\" 148) (second (second (iter \"permit\" 52) 53) 53) 53) (set (getLocal \"unsigned\" 148) (pack (tuple 54 (tuple 54 (chain_id) (to_address (self) \"None\")) (tuple 54 (attr (data) \"counter\" 54) (getLocal \"params_hash\" 54))) 54) 54) (set (getLocal \"pk_address\" 148) (to_address (implicit_account (hash_key (first (iter \"permit\" 52) 55) 55) 55) 55) 55) (verify (invert (contains (attr (data) \"permits\" 56) (tuple 56 (getLocal \"pk_address\" 56) (getLocal \"params_hash\" 56)) 56) 56) False (tuple 56 (literal (string \"DUP_PERMIT\") 148) (getLocal \"params_hash\" 56)) 56) (verify (check_signature (first (iter \"permit\" 52) 57) (first (second (iter \"permit\" 52) 57) 57) (getLocal \"unsigned\" 57) 57) False (tuple 57 (literal (string \"MISSIGNED\") 148) (getLocal \"unsigned\" 57)) 57) (set (getItem (attr (data) \"permits\" 56) (tuple 58 (getLocal \"pk_address\" 58) (getLocal \"params_hash\" 58)) 58) (now) 58) (set (attr (data) \"counter\" 54) (add (attr (data) \"counter\" 54) (literal (intOrNat 1) 59) 59) 59)) 52))) (approve True ((set_type (params 62) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 63) (verify (invert (attr (data) \"paused\" 13) 64) False 64) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 15) (sender) 65) \"approvals\" 65) (attr (params 62) \"spender\" 65) (literal (intOrNat 0) 65) 65) (literal (intOrNat 0) 66) 66) (eq (attr (params 62) \"value\" 66) (literal (intOrNat 0) 66) 66) 66) False (literal (string \"UnsafeAllowanceChange\") 66) 66) (set (getItem (attr (getItem (attr (data) \"balances\" 15) (sender) 67) \"approvals\" 67) (attr (params 62) \"spender\" 65) 67) (attr (params 62) \"value\" 66) 67))) (burn True ((set_type (params 90) (record ((address \"address\") (value \"nat\")) None) 91) (verify (eq (sender) (attr (data) \"administrator\" 12) 92) False 92) (verify (ge (attr (getItem (attr (data) \"balances\" 15) (attr (params 90) \"address\" 93) 93) \"balance\" 93) (attr (params 90) \"value\" 93) 93) False 93) (set (attr (getItem (attr (data) \"balances\" 15) (attr (params 90) \"address\" 93) 94) \"balance\" 94) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 15) (attr (params 90) \"address\" 93) 94) \"balance\" 94) (attr (params 90) \"value\" 93) 94) 94) \"Some\" \"None\" 94) 94) (set (attr (data) \"totalSupply\" 95) (openVariant (isNat (sub (attr (data) \"totalSupply\" 95) (attr (params 90) \"value\" 93) 95) 95) \"Some\" \"None\" 95) 95))) (getAdministrator True ((set (operations 115) (cons (transfer (attr (data) \"administrator\" 12) (literal (mutez 0) 115) (openVariant (contract \"\" \"address\" (attr (params 114) \"target\" 115) 115) \"Some\" \"None\" 115) 115) (operations 115) 115) 115))) (getAllowance True ((set (operations 107) (cons (transfer (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (params 106) \"arg\" 107) \"owner\" 107) 107) \"approvals\" 107) (attr (attr (params 106) \"arg\" 107) \"spender\" 107) 107) (literal (mutez 0) 107) (openVariant (contract \"\" \"nat\" (attr (params 106) \"target\" 107) 107) \"Some\" \"None\" 107) 107) (operations 107) 107) 107))) (getBalance True ((set (operations 103) (cons (transfer (attr (getItem (attr (data) \"balances\" 15) (attr (attr (params 102) \"arg\" 103) \"owner\" 103) 103) \"balance\" 103) (literal (mutez 0) 103) (openVariant (contract \"\" \"nat\" (attr (params 102) \"target\" 103) 103) \"Some\" \"None\" 103) 103) (operations 103) 103) 103))) (getTotalSupply True ((set (operations 111) (cons (transfer (attr (data) \"totalSupply\" 95) (literal (mutez 0) 111) (openVariant (contract \"\" \"nat\" (attr (params 110) \"target\" 111) 111) \"Some\" \"None\" 111) 111) (operations 111) 111) 111))) (mint True ((set_type (params 82) (record ((address \"address\") (value \"nat\")) None) 83) (verify (eq (sender) (attr (data) \"administrator\" 12) 84) False 84) (ifBlock (invert (contains (attr (data) \"balances\" 15) (attr (params 82) \"address\" 85) 98) 98) ((set (getItem (attr (data) \"balances\" 15) (attr (params 82) \"address\" 85) 99) (record 99 (approvals (map 99 )) (balance (literal (intOrNat 0) 99))) 99)) 98) (set (attr (getItem (attr (data) \"balances\" 15) (attr (params 82) \"address\" 85) 86) \"balance\" 86) (add (attr (getItem (attr (data) \"balances\" 15) (attr (params 82) \"address\" 85) 86) \"balance\" 86) (attr (params 82) \"value\" 86) 86) 86) (set (attr (data) \"totalSupply\" 95) (add (attr (data) \"totalSupply\" 95) (attr (params 82) \"value\" 86) 87) 87))) (setAdministrator True ((set_type (params 76) \"address\" 77) (verify (eq (sender) (attr (data) \"administrator\" 12) 78) False 78) (set (attr (data) \"administrator\" 12) (params 76) 79))) (setPause True ((set_type (params 70) \"bool\" 71) (verify (eq (sender) (attr (data) \"administrator\" 12) 72) False 72) (set (attr (data) \"paused\" 13) (params 70) 73))) (transfer True ((set_type (params 24) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 25) (defineLocal \"y5\" (call_lambda (global \"transfer_helper\" 148) (record 27 (in_param (record 26 (from_ (attr (params 24) \"from_\" 26)) (sender_ (sender)) (to_ (attr (params 24) \"to_\" 26)) (value (attr (params 24) \"value\" 26)))) (in_storage (data))) 27) 27) (set (data) (attr (getLocal \"y5\" 27) \"storage\" 27) 27) (forGroup \"op\" (attr (getLocal \"y5\" 27) \"operations\" 27) ((set (operations 27) (cons (iter \"op\" 27) (operations 27) 27) 27)) 27))) (transfer_signed True ((set_type (params 30) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 31) (defineLocal \"sender\" (sender) 32) (ifBlock (neq (attr (params 30) \"from_\" 33) (getLocal \"sender\" 33) 33) ((verify (contains (attr (data) \"permits\" 56) (tuple 36 (attr (params 30) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (params 30) 34) 34)) 36) False (tuple 37 (literal (string \"NO_PERMIT\") 148) (tuple 37 (attr (params 30) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (params 30) 34) 34))) 36) (delItem (attr (data) \"permits\" 56) (tuple 39 (attr (params 30) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (params 30) 34) 34)) 39) (set (getLocal \"sender\" 148) (attr (params 30) \"from_\" 33) 41)) 33) (defineLocal \"y6\" (call_lambda (global \"transfer_helper\" 148) (record 42 (in_param (record 42 (from_ (attr (params 30) \"from_\" 33)) (sender_ (getLocal \"sender\" 42)) (to_ (attr (params 30) \"to_\" 42)) (value (attr (params 30) \"value\" 42)))) (in_storage (data))) 42) 42) (set (data) (attr (getLocal \"y6\" 42) \"storage\" 42) 42) (forGroup \"op\" (attr (getLocal \"y6\" 42) \"operations\" 42) ((set (operations 42) (cons (iter \"op\" 42) (operations 42) 42) 42)) 42))))\nflags ()\nglobals ((transfer_helper (lambda 0 \"\" 148 ((defineLocal \"__operations__\" (type_annotation (list 148 ) (list \"operation\") 148) 148) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_storage\" 148) (unknown 15) 148) 148) (seq \"__s4\" ((verify (or (eq (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"sender_\" 12) (attr (data) \"administrator\" 12) 12) (and (invert (attr (data) \"paused\" 13) 13) (or (eq (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"sender_\" 12) 14) (ge (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) 15) \"approvals\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"sender_\" 12) 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"value\" 15) 15) 14) 13) 12) False 12) (ifBlock (invert (contains (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"to_\" 16) 98) 98) ((set (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"to_\" 16) 99) (record 99 (approvals (map 99 )) (balance (literal (intOrNat 0) 99))) 99)) 98) (verify (ge (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) 17) \"balance\" 17) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"value\" 15) 17) False 17) (set (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) 18) \"balance\" 18) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) 18) \"balance\" 18) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"value\" 15) 18) 18) \"Some\" \"None\" 18) 18) (set (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"to_\" 16) 19) \"balance\" 19) (add (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"to_\" 16) 19) \"balance\" 19) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"value\" 15) 19) 19) (ifBlock (and (neq (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"sender_\" 12) 20) (neq (attr (data) \"administrator\" 12) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"sender_\" 12) 20) 20) ((set (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) 21) \"approvals\" 21) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"sender_\" 12) 21) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 15) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"from_\" 14) 21) \"approvals\" 21) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"sender_\" 12) 21) (attr (attr (lambdaParams 0 \"\" 148 (unknown 14)) \"in_param\" 148) \"value\" 15) 21) 21) \"Some\" \"None\" 21) 21)) 20)) 148) (bind \"__s4\" ((result (record 148 (operations (getLocal \"__operations__\" 148)) (result (getLocal \"__s4\" 148)) (storage (getLocal \"__storage__\" 148))) 148)) 148)))))\nentry_points_layout ()\nbalance ())", "line_no": 148, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 149}, {"action": "message", "id": 0, "message": "mint", "params": "(record 150 (address (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (value (literal (intOrNat 12) 150)))", "line_no": 150, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 150)", "show": true, "valid": "(literal (bool True) 150)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 151 (address (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (value (literal (intOrNat 3) 151)))", "line_no": 151, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 151)", "show": true, "valid": "(literal (bool True) 151)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 152 (address (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (value (literal (intOrNat 3) 152)))", "line_no": 152, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 152)", "show": true, "valid": "(literal (bool True) 152)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 152) \"balances\" 153) (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136) 153) \"balance\" 153) (literal (intOrNat 18) 153) 153)", "line_no": 153}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 154}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 155 (from_ (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 4) 155)))", "line_no": 155, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 155)", "show": true, "valid": "(literal (bool True) 155)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 155) \"balances\" 156) (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136) 156) \"balance\" 156) (literal (intOrNat 14) 156) 156)", "line_no": 156}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 157}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 158 (from_ (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 4) 158)))", "line_no": 158, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 158)", "show": true, "valid": "(literal (bool False) 158)"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 159}, {"action": "message", "id": 0, "message": "approve", "params": "(record 160 (spender (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 5) 160)))", "line_no": 160, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 160)", "show": true, "valid": "(literal (bool True) 160)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 161 (from_ (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 4) 161)))", "line_no": 161, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 161)", "show": true, "valid": "(literal (bool True) 161)"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 162}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 163 (from_ (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 4) 163)))", "line_no": 163, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 163)", "show": true, "valid": "(literal (bool False) 163)"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 164}, {"action": "message", "id": 0, "message": "burn", "params": "(record 165 (address (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 1) 165)))", "line_no": 165, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 165)", "show": true, "valid": "(literal (bool True) 165)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 165) \"balances\" 166) (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136) 166) \"balance\" 166) (literal (intOrNat 10) 166) 166)", "line_no": 166}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 167}, {"action": "message", "id": 0, "message": "burn", "params": "(record 168 (address (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 1) 168)))", "line_no": 168, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 168)", "show": true, "valid": "(literal (bool False) 168)"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 169}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 170)", "line_no": 170, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 170)", "show": true, "valid": "(literal (bool True) 170)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 171 (from_ (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 4) 171)))", "line_no": 171, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 171)", "show": true, "valid": "(literal (bool False) 171)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 171) \"balances\" 172) (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136) 172) \"balance\" 172) (literal (intOrNat 10) 172) 172)", "line_no": 172}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 173}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 174 (from_ (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 1) 174)))", "line_no": 174, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 174)", "show": true, "valid": "(literal (bool True) 174)"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 175}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 176)", "line_no": 176, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 176)", "show": true, "valid": "(literal (bool True) 176)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 176) \"balances\" 177) (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136) 177) \"balance\" 177) (literal (intOrNat 9) 177) 177)", "line_no": 177}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 178 (from_ (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 1) 178)))", "line_no": 178, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 178)", "show": true, "valid": "(literal (bool True) 178)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 178) \"totalSupply\" 180) (literal (intOrNat 17) 180) 180)", "line_no": 180}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 178) \"balances\" 181) (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136) 181) \"balance\" 181) (literal (intOrNat 8) 181) 181)", "line_no": 181}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 178) \"balances\" 181) (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137) 182) \"balance\" 182) (literal (intOrNat 9) 182) 182)", "line_no": 182}, {"action": "html", "tag": "h2", "inner": "Permit Submission", "line_no": 184}, {"action": "message", "id": 0, "message": "mint", "params": "(record 185 (address (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138)) (value (literal (intOrNat 10) 185)))", "line_no": 185, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 185)", "show": true, "valid": "(literal (bool True) 185)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 185) \"balances\" 186) (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) 186) \"balance\" 186) (literal (intOrNat 10) 186) 186)", "line_no": 186}, {"action": "message", "id": 0, "message": "add_permits", "params": "(list 193 (tuple 193 (reduce (attr (account_of_seed \"Carlos\" 138) \"public_key\" 138) 138) (tuple 193 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 138) \"secret_key\" 138) 138) (pack (tuple 191 (tuple 191 (literal (chain_id_cst \"0x9caecab9\") 191) (literal (local-address 0) 6)) (tuple 191 (attr (contractData 0 185) \"counter\" 191) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137) (literal (intOrNat 10) 193))) 188) 189))) 191) \"Raw\" 192) 192) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137) (literal (intOrNat 10) 193))) 188) 189))))", "line_no": 193, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 193)", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 193)", "show": true, "valid": "(literal (bool True) 193)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 193) \"counter\" 194) (literal (intOrNat 1) 194) 194)", "line_no": 194}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 193) \"permits\" 197) (tuple 197 (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137) (literal (intOrNat 10) 197))) 188) 189)) 197) (unknown 25) 197) 197) (pack (type_annotation (literal (timestamp 1571761674) 197) (unknown 25) 197) 197) 197)", "line_no": 197}, {"action": "html", "tag": "h2", "inner": "Execute transfer using permit", "line_no": 199}, {"action": "message", "id": 0, "message": "transfer_signed", "params": "(record 200 (from_ (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138)) (to_ (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)) (value (literal (intOrNat 10) 200)))", "line_no": 200, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 200)", "show": true, "valid": "(literal (bool True) 200)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 200) \"balances\" 201) (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) 201) \"balance\" 201) (literal (intOrNat 0) 201) 201)", "line_no": 201}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 200) \"balances\" 201) (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137) 202) \"balance\" 202) (literal (intOrNat 19) 202) 202)", "line_no": 202}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 200) \"permits\" 204) (tuple 204 (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) (pack (tuple 191 (tuple 191 (literal (chain_id_cst \"0x9caecab9\") 191) (literal (local-address 0) 6)) (tuple 191 (attr (contractData 0 185) \"counter\" 191) (hashCrypto \"BLAKE2B\" (pack (tuple 188 (reduce (attr (account_of_seed \"Carlos\" 138) \"address\" 138) 138) (tuple 188 (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137) (literal (intOrNat 10) 204))) 188) 189))) 191)) 204) 204)", "line_no": 204}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 206}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 207}, {"action": "newContract", "id": 2, "export": "(storage (record 119 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 123) (variant \"Some\" (params 122) 123) 123))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 209, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(record 210 (arg (record 210 (owner (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)))) (target (literal (local-address 2) 120)))", "line_no": 210, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 210)", "show": true, "valid": "(literal (bool True) 210)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 209) \"last\" 211) (unknown 26) 211) 211) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 211) 211) (unknown 26) 211) 211) 211)", "line_no": 211}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 213}, {"action": "newContract", "id": 4, "export": "(storage (record 119 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 123) (variant \"Some\" (params 122) 123) 123))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 215, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(record 216 (target (literal (local-address 4) 120)))", "line_no": 216, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 216)", "show": true, "valid": "(literal (bool True) 216)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 215) \"last\" 217) (unknown 27) 217) 217) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 135) \"address\" 135) 135) 217) (unknown 27) 217) 217) 217)", "line_no": 217}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 219}, {"action": "newContract", "id": 6, "export": "(storage (record 119 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 123) (variant \"Some\" (params 122) 123) 123))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 221, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(record 222 (target (literal (local-address 6) 120)))", "line_no": 222, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 222)", "show": true, "valid": "(literal (bool True) 222)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 6 221) \"last\" 223) (unknown 28) 223) 223) (pack (type_annotation (variant \"Some\" (literal (intOrNat 27) 223) 223) (unknown 28) 223) 223) 223)", "line_no": 223}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 225}, {"action": "newContract", "id": 8, "export": "(storage (record 119 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 123) (variant \"Some\" (params 122) 123) 123))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 227, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(record 228 (arg (record 228 (owner (reduce (attr (account_of_seed \"Alice\" 136) \"address\" 136) 136)) (spender (reduce (attr (account_of_seed \"Robert\" 137) \"address\" 137) 137)))) (target (literal (local-address 8) 120)))", "line_no": 228, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 193)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 228)", "show": true, "valid": "(literal (bool True) 228)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 8 227) \"last\" 229) (unknown 29) 229) 229) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 229) 229) (unknown 29) 229) 229) 229)", "line_no": 229}]}]