[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 243}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 245}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 254}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 255 (account_of_seed \"Administrator\" 248) (account_of_seed \"Alice\" 249) (account_of_seed \"Robert\" 250) (account_of_seed \"Carlos\" 251))", "line_no": 255}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 257}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 260}, {"action": "newContract", "id": 0, "export": "(storage (record 10 (administrator (reduce (attr (account_of_seed \"Administrator\" 248) \"address\" 248) 248)) (balances (type_annotation (big_map 10 ) (bigmap (unknown 18) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 10)) (counter (literal (intOrNat 0) 10)) (default_expiry (literal (intOrNat 50000) 10)) (max_expiry (literal (intOrNat 2628000) 10)) (metadata (big_map 13 ((literal (string \"\") 261) (literal (bytes \"0x74657a6f732d73746f726167653a6d642d6a736f6e\") 13)) ((literal (string \"md-json\") 261) (literal (bytes \"0x7b226e616d65223a2022736d61727470792d7065726d697473222c20226465736372697074696f6e223a2022496d706c656d656e746174696f6e206f6620547a69702d313720696e20536d6172747079206f6e206261736963204641312e3220636f6e74726163745c6e222c20226c6963656e7365223a207b226e616d65223a20224d4954222c202264657461696c73223a2022546865204d4954204c6963656e7365227d2c2022686f6d6570616765223a202268747470733a2f2f6769746875622e636f6d2f454775656e7a2f736d61727470792d7065726d697473222c2022696e7465726661636573223a205b22545a49502d3136222c2022545a49502d3137225d2c20227669657773223a205b7b226e616d65223a202267657444656661756c74457870697279222c2022696d706c656d656e746174696f6e73223a205b7b226d696368656c736f6e2d73746f726167652d76696577223a207b22706172616d65746572223a207b227072696d223a202261646472657373222c2022616e6e6f7473223a205b222567657444656661756c74457870697279225d7d2c202272657475726e2d74797065223a207b227072696d223a20226e6174227d2c2022636f6465223a205b7b227072696d223a2022444947222c202261726773223a205b7b22696e74223a202232227d5d7d2c207b227072696d223a202244524f50227d2c207b227072696d223a2022444947222c202261726773223a205b7b22696e74223a202232227d5d7d2c207b227072696d223a202244524f50227d2c207b227072696d223a2022434f4e5452414354222c202261726773223a205b7b227072696d223a20226e6174227d5d7d2c207b227072696d223a20224e494c222c202261726773223a205b7b227072696d223a20226f7065726174696f6e227d5d7d2c207b227072696d223a202253574150227d2c207b227072696d223a202249465f4e4f4e45222c202261726773223a205b5b7b227072696d223a202250555348222c202261726773223a205b7b227072696d223a2022696e74227d2c207b22696e74223a2022323239227d5d7d2c207b227072696d223a20224641494c57495448227d5d2c205b5d5d7d2c207b227072696d223a202250555348222c202261726773223a205b7b227072696d223a20226d7574657a227d2c207b22696e74223a202230227d5d7d2c207b227072696d223a2022444947222c202261726773223a205b7b22696e74223a202233227d5d7d2c207b227072696d223a2022445550227d2c207b227072696d223a2022445547222c202261726773223a205b7b22696e74223a202234227d5d7d2c207b227072696d223a2022434152227d2c207b227072696d223a2022434452227d2c207b227072696d223a2022434452227d2c207b227072696d223a2022434152227d2c207b227072696d223a20225452414e534645525f544f4b454e53227d2c207b227072696d223a2022434f4e53227d5d7d7d5d2c202270757265223a20747275657d2c207b226e616d65223a2022676574436f756e746572222c2022696d706c656d656e746174696f6e73223a205b7b226d696368656c736f6e2d73746f726167652d76696577223a207b22706172616d65746572223a207b227072696d223a202261646472657373222c2022616e6e6f7473223a205b2225676574436f756e746572225d7d2c202272657475726e2d74797065223a207b227072696d223a20226e6174227d2c2022636f6465223a205b7b227072696d223a2022444947222c202261726773223a205b7b22696e74223a202232227d5d7d2c207b227072696d223a202244524f50227d2c207b227072696d223a2022444947222c202261726773223a205b7b22696e74223a202232227d5d7d2c207b227072696d223a202244524f50227d2c207b227072696d223a2022434f4e5452414354222c202261726773223a205b7b227072696d223a20226e6174227d5d7d2c207b227072696d223a20224e494c222c202261726773223a205b7b227072696d223a20226f7065726174696f6e227d5d7d2c207b227072696d223a202253574150227d2c207b227072696d223a202249465f4e4f4e45222c202261726773223a205b5b7b227072696d223a202250555348222c202261726773223a205b7b227072696d223a2022696e74227d2c207b22696e74223a2022323233227d5d7d2c207b227072696d223a20224641494c57495448227d5d2c205b5d5d7d2c207b227072696d223a202250555348222c202261726773223a205b7b227072696d223a20226d7574657a227d2c207b22696e74223a202230227d5d7d2c207b227072696d223a2022444947222c202261726773223a205b7b22696e74223a202233227d5d7d2c207b227072696d223a2022445550227d2c207b227072696d223a2022445547222c202261726773223a205b7b22696e74223a202234227d5d7d2c207b227072696d223a2022434152227d2c207b227072696d223a2022434452227d2c207b227072696d223a2022434152227d2c207b227072696d223a20225452414e534645525f544f4b454e53227d2c207b227072696d223a2022434f4e53227d5d7d7d5d2c202270757265223a20747275657d5d7d\") 13)))) (paused (literal (bool False) 10)) (permit_expiries (type_annotation (big_map 12 ) (bigmap (tuple \"address\" \"bytes\") (option \"nat\")) 12)) (permits (type_annotation (big_map 11 ) (bigmap (tuple \"address\" \"bytes\") \"timestamp\") 11)) (totalSupply (literal (intOrNat 0) 10)) (user_expiries (type_annotation (big_map 11 ) (bigmap \"address\" (option \"nat\")) 11)))\nstorage_type (())\nmessages ((approve True ((set_type (params 154) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 155) (verify (invert (attr (data) \"paused\" 157) 157) False 157) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 158) (sender) 158) \"approvals\" 158) (attr (params 154) \"spender\" 159) (literal (intOrNat 0) 158) 158) (literal (intOrNat 0) 160) 160) (eq (attr (params 154) \"value\" 161) (literal (intOrNat 0) 161) 161) 160) False (literal (string \"UnsafeAllowanceChange\") 160) 160) (set (getItem (attr (getItem (attr (data) \"balances\" 158) (sender) 162) \"approvals\" 162) (attr (params 154) \"spender\" 159) 162) (attr (params 154) \"value\" 161) 162))) (burn True ((set_type (params 185) (record ((address \"address\") (value \"nat\")) None) 186) (verify (eq (sender) (attr (data) \"administrator\" 187) 187) False 187) (verify (ge (attr (getItem (attr (data) \"balances\" 158) (attr (params 185) \"address\" 188) 188) \"balance\" 188) (attr (params 185) \"value\" 188) 188) False 188) (set (attr (getItem (attr (data) \"balances\" 158) (attr (params 185) \"address\" 188) 189) \"balance\" 189) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 158) (attr (params 185) \"address\" 188) 190) \"balance\" 190) (attr (params 185) \"value\" 188) 190) 189) \"Some\" \"None\" 189) 189) (set (attr (data) \"totalSupply\" 191) (openVariant (isNat (sub (attr (data) \"totalSupply\" 191) (attr (params 185) \"value\" 188) 191) 191) \"Some\" \"None\" 191) 191))) (delete_permits True ((set_type (params 37) (list (tuple \"address\" \"bytes\")) 38) (defineLocal \"effective_expiry\" (literal (intOrNat 0) 39) 39) (forGroup \"permit_key\" (params 37) ((verify (contains (attr (data) \"permits\" 65) (iter \"permit_key\" 40) 41) False (tuple 42 (literal (string \"NO_PERMIT_TO_DELETE\") 261) (iter \"permit_key\" 40)) 42) (defineLocal \"y8\" (call_lambda (global \"getEffectiveExpiry\" 261) (record 44 (in_param (iter \"permit_key\" 40)) (in_storage (data))) 44) 44) (set (data) (attr (getLocal \"y8\" 44) \"storage\" 44) 44) (forGroup \"op\" (attr (getLocal \"y8\" 44) \"operations\" 44) ((set (operations 44) (cons (iter \"op\" 44) (operations 44) 44) 44)) 44) (verify (ge (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 65) (iter \"permit_key\" 40) 45) 46) 46) \"Some\" \"None\" 46) (attr (getLocal \"y8\" 44) \"result\" 44) 46) False (tuple 47 (literal (string \"PERMIT_NOT_EXPIRED\") 261) (iter \"permit_key\" 40)) 46) (set_type (iter \"permit_key\" 40) (tuple \"address\" \"bytes\") 51) (ifBlock (contains (attr (data) \"permits\" 65) (iter \"permit_key\" 40) 52) ((delItem (attr (data) \"permits\" 65) (iter \"permit_key\" 40) 53)) 52) (ifBlock (contains (attr (data) \"permit_expiries\" 112) (iter \"permit_key\" 40) 54) ((delItem (attr (data) \"permit_expiries\" 112) (iter \"permit_key\" 40) 55)) 54)) 40))) (getAdministrator True ((set (operations 214) (cons (transfer (attr (data) \"administrator\" 187) (literal (mutez 0) 214) (openVariant (contract \"\" \"address\" (attr (params 213) \"target\" 215) 215) \"Some\" \"None\" 215) 214) (operations 214) 214) 214))) (getAllowance True ((set (operations 204) (cons (transfer (getItem (attr (getItem (attr (data) \"balances\" 158) (attr (attr (params 203) \"arg\" 204) \"owner\" 204) 204) \"approvals\" 204) (attr (attr (params 203) \"arg\" 204) \"spender\" 204) 204) (literal (mutez 0) 204) (openVariant (contract \"\" \"nat\" (attr (params 203) \"target\" 205) 205) \"Some\" \"None\" 205) 204) (operations 204) 204) 204))) (getBalance True ((set (operations 199) (cons (transfer (attr (getItem (attr (data) \"balances\" 158) (attr (attr (params 198) \"arg\" 199) \"owner\" 199) 199) \"balance\" 199) (literal (mutez 0) 199) (openVariant (contract \"\" \"nat\" (attr (params 198) \"target\" 200) 200) \"Some\" \"None\" 200) 199) (operations 199) 199) 199))) (getCounter True ((set (operations 219) (cons (transfer (attr (data) \"counter\" 219) (literal (mutez 0) 219) (openVariant (contract \"\" \"nat\" (attr (params 218) \"target\" 220) 219) \"Some\" \"None\" 219) 219) (operations 219) 219) 219))) (getDefaultExpiry True ((set (operations 224) (cons (transfer (attr (data) \"default_expiry\" 120) (literal (mutez 0) 224) (openVariant (contract \"\" \"nat\" (attr (params 223) \"target\" 225) 225) \"Some\" \"None\" 225) 224) (operations 224) 224) 224))) (getTotalSupply True ((set (operations 209) (cons (transfer (attr (data) \"totalSupply\" 191) (literal (mutez 0) 209) (openVariant (contract \"\" \"nat\" (attr (params 208) \"target\" 210) 210) \"Some\" \"None\" 210) 209) (operations 209) 209) 209))) (mint True ((set_type (params 177) (record ((address \"address\") (value \"nat\")) None) 178) (verify (eq (sender) (attr (data) \"administrator\" 187) 179) False 179) (ifBlock (invert (contains (attr (data) \"balances\" 158) (attr (params 177) \"address\" 180) 194) 194) ((set (getItem (attr (data) \"balances\" 158) (attr (params 177) \"address\" 180) 195) (record 195 (approvals (map 195 )) (balance (literal (intOrNat 0) 195))) 195)) 194) (set (attr (getItem (attr (data) \"balances\" 158) (attr (params 177) \"address\" 180) 181) \"balance\" 181) (add (attr (getItem (attr (data) \"balances\" 158) (attr (params 177) \"address\" 180) 181) \"balance\" 181) (attr (params 177) \"value\" 181) 181) 181) (set (attr (data) \"totalSupply\" 191) (add (attr (data) \"totalSupply\" 191) (attr (params 177) \"value\" 181) 182) 182))) (permit True ((set_type (params 86) (list (tuple \"key\" (tuple \"signature\" \"bytes\"))) 87) (verify (invert (attr (data) \"paused\" 157) 89) False 89) (forGroup \"permit\" (params 86) ((defineLocal \"y9\" (call_lambda (global \"getEffectiveExpiry\" 261) (record 98 (in_param (tuple 99 (to_address (implicit_account (hash_key (first (iter \"permit\" 90) 95) 95) 95) 94) (second (second (iter \"permit\" 90) 91) 91))) (in_storage (data))) 98) 98) (set (data) (attr (getLocal \"y9\" 98) \"storage\" 98) 98) (forGroup \"op\" (attr (getLocal \"y9\" 98) \"operations\" 98) ((set (operations 98) (cons (iter \"op\" 98) (operations 98) 98) 98)) 98) (verify (invert (and (contains (attr (data) \"permits\" 65) (tuple 96 (to_address (implicit_account (hash_key (first (iter \"permit\" 90) 95) 95) 95) 94) (second (second (iter \"permit\" 90) 91) 91)) 97) (lt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 65) (tuple 96 (to_address (implicit_account (hash_key (first (iter \"permit\" 90) 95) 95) 95) 94) (second (second (iter \"permit\" 90) 91) 91)) 100) 101) 101) \"Some\" \"None\" 101) (attr (getLocal \"y9\" 98) \"result\" 98) 101) 101) 101) False (tuple 102 (literal (string \"DUP_PERMIT\") 261) (second (second (iter \"permit\" 90) 91) 91)) 101) (verify (check_signature (first (iter \"permit\" 90) 103) (first (second (iter \"permit\" 90) 104) 103) (pack (tuple 92 (tuple 92 (chain_id) (to_address (self) \"None\")) (tuple 92 (attr (data) \"counter\" 219) (second (second (iter \"permit\" 90) 91) 91))) 92) 103) False (tuple 104 (literal (string \"MISSIGNED\") 261) (pack (tuple 92 (tuple 92 (chain_id) (to_address (self) \"None\")) (tuple 92 (attr (data) \"counter\" 219) (second (second (iter \"permit\" 90) 91) 91))) 92)) 103) (set (getItem (attr (data) \"permits\" 65) (tuple 105 (to_address (implicit_account (hash_key (first (iter \"permit\" 90) 95) 95) 95) 94) (second (second (iter \"permit\" 90) 91) 91)) 105) (now) 105) (set (attr (data) \"counter\" 219) (add (attr (data) \"counter\" 219) (literal (intOrNat 1) 106) 106) 106)) 90))) (setAdministrator True ((set_type (params 171) \"address\" 172) (verify (eq (sender) (attr (data) \"administrator\" 187) 173) False 173) (set (attr (data) \"administrator\" 187) (params 171) 174))) (setExpiry True ((set_type (params 123) (record ((address \"address\") (permit (option \"bytes\")) (seconds \"nat\")) None) 124) (verify (invert (attr (data) \"paused\" 157) 126) False 126) (verify (le (attr (params 123) \"seconds\" 127) (attr (data) \"max_expiry\" 127) 127) False (literal (string \"MAX_SECONDS_EXCEEDED\") 127) 127) (verify (eq (pack (type_annotation (attr (params 123) \"address\" 128) (unknown 31) 128) 128) (pack (type_annotation (sender) (unknown 31) 128) 128) 128) \"NOT_AUTHORIZED\" (literal (bool False) 128) 128) (ifBlock (isVariant (attr (params 123) \"permit\" 129) \"Some\" 129) ((verify (contains (attr (data) \"permits\" 65) (tuple 132 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 131) False (literal (string \"PERMIT_NONEXISTENT\") 131) 131) (ifBlock (and (contains (attr (data) \"permit_expiries\" 112) (tuple 135 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 135) (isVariant (getItem (attr (data) \"permit_expiries\" 112) (tuple 135 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 135) \"Some\" 135) 135) ((verify (lt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 65) (tuple 133 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 133) 138) 138) \"Some\" \"None\" 138) (openVariant (getItem (attr (data) \"permit_expiries\" 112) (tuple 136 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 136) \"Some\" \"None\" 136) 138) False (literal (string \"PERMIT_REVOKED\") 138) 138)) 135) (elseBlock ((ifBlock (and (contains (attr (data) \"user_expiries\" 116) (attr (params 123) \"address\" 128) 141) (isVariant (getItem (attr (data) \"user_expiries\" 116) (attr (params 123) \"address\" 128) 141) \"Some\" 141) 141) ((verify (lt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 65) (tuple 133 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 133) 144) 144) \"Some\" \"None\" 144) (openVariant (getItem (attr (data) \"user_expiries\" 116) (attr (params 123) \"address\" 128) 142) \"Some\" \"None\" 142) 144) False (literal (string \"PERMIT_REVOKED\") 144) 144)) 141) (elseBlock ((verify (lt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 65) (tuple 133 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 133) 147) 147) \"Some\" \"None\" 147) (attr (data) \"default_expiry\" 120) 147) False (literal (string \"PERMIT_REVOKED\") 147) 147))))) (set (getItem (attr (data) \"permit_expiries\" 112) (tuple 149 (attr (params 123) \"address\" 128) (openVariant (attr (params 123) \"permit\" 129) \"Some\" \"None\" 130)) 149) (variant \"Some\" (attr (params 123) \"seconds\" 127) 150) 149) (set (getItem (attr (data) \"user_expiries\" 116) (attr (params 123) \"address\" 128) 151) (variant \"Some\" (attr (params 123) \"seconds\" 127) 151) 151)) 129))) (setPause True ((set_type (params 165) \"bool\" 166) (verify (eq (sender) (attr (data) \"administrator\" 187) 167) False 167) (set (attr (data) \"paused\" 157) (params 165) 168))) (transfer True ((set_type (params 16) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 17) (defineLocal \"sender\" (sender) 19) (defineLocal \"y10\" (call_lambda (global \"transfer_presigned\" 261) (record 20 (in_param (params 16)) (in_storage (data))) 20) 20) (set (data) (attr (getLocal \"y10\" 20) \"storage\" 20) 20) (forGroup \"op\" (attr (getLocal \"y10\" 20) \"operations\" 20) ((set (operations 20) (cons (iter \"op\" 20) (operations 20) 20) 20)) 20) (ifBlock (attr (getLocal \"y10\" 20) \"result\" 20) ((set (getLocal \"sender\" 261) (attr (params 16) \"from_\" 22) 22)) 20) (verify (or (eq (getLocal \"sender\" 23) (attr (data) \"administrator\" 187) 23) (and (invert (attr (data) \"paused\" 157) 24) (or (eq (attr (params 16) \"from_\" 22) (getLocal \"sender\" 25) 25) (ge (getItem (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"from_\" 22) 26) \"approvals\" 26) (getLocal \"sender\" 26) 26) (attr (params 16) \"value\" 26) 26) 25) 24) 23) False 23) (ifBlock (invert (contains (attr (data) \"balances\" 158) (attr (params 16) \"to_\" 27) 194) 194) ((set (getItem (attr (data) \"balances\" 158) (attr (params 16) \"to_\" 27) 195) (record 195 (approvals (map 195 )) (balance (literal (intOrNat 0) 195))) 195)) 194) (verify (ge (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"from_\" 22) 28) \"balance\" 28) (attr (params 16) \"value\" 26) 28) False 28) (set (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"from_\" 22) 29) \"balance\" 29) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"from_\" 22) 30) \"balance\" 30) (attr (params 16) \"value\" 26) 30) 29) \"Some\" \"None\" 29) 29) (set (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"to_\" 27) 31) \"balance\" 31) (add (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"to_\" 27) 31) \"balance\" 31) (attr (params 16) \"value\" 26) 31) 31) (ifBlock (and (neq (attr (params 16) \"from_\" 22) (getLocal \"sender\" 32) 32) (neq (attr (data) \"administrator\" 187) (getLocal \"sender\" 32) 32) 32) ((set (getItem (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"from_\" 22) 33) \"approvals\" 33) (getLocal \"sender\" 33) 33) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 158) (attr (params 16) \"from_\" 22) 34) \"approvals\" 34) (getLocal \"sender\" 34) 34) (attr (params 16) \"value\" 26) 34) 33) \"Some\" \"None\" 33) 33)) 32))))\nflags ()\nglobals ((getEffectiveExpiry (lambda 0 \"\" 261 ((defineLocal \"__operations__\" (type_annotation (list 261 ) (list \"operation\") 261) 261) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_storage\" 261) (unknown 20) 261) 261) (seq \"__s6\" ((set_type (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_param\" 261) (tuple \"address\" \"bytes\") 110) (ifBlock (and (contains (attr (data) \"permit_expiries\" 112) (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_param\" 261) 112) (isVariant (getItem (attr (data) \"permit_expiries\" 112) (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_param\" 261) 112) \"Some\" 112) 112) ((result (openVariant (getItem (attr (data) \"permit_expiries\" 112) (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_param\" 261) 113) \"Some\" \"None\" 113) 114)) 112) (elseBlock ((ifBlock (and (contains (attr (data) \"user_expiries\" 116) (first (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_param\" 261) 111) 116) (isVariant (getItem (attr (data) \"user_expiries\" 116) (first (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_param\" 261) 111) 116) \"Some\" 116) 116) ((result (openVariant (getItem (attr (data) \"user_expiries\" 116) (first (attr (lambdaParams 0 \"\" 261 (unknown 19)) \"in_param\" 261) 111) 117) \"Some\" \"None\" 117) 118)) 116) (elseBlock ((result (attr (data) \"default_expiry\" 120) 120)))))) 261) (bind \"__s6\" ((result (record 261 (operations (getLocal \"__operations__\" 261)) (result (getLocal \"__s6\" 261)) (storage (getLocal \"__storage__\" 261))) 261)) 261)))) (transfer_presigned (lambda 1 \"\" 261 ((defineLocal \"__operations__\" (type_annotation (list 261 ) (list \"operation\") 261) 261) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_storage\" 261) (unknown 22) 261) 261) (seq \"__s7\" ((set_type (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 59) (defineLocal \"effective_expiry\" (literal (intOrNat 0) 64) 64) (ifBlock (contains (attr (data) \"permits\" 65) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 65) ((ifBlock (and (contains (attr (data) \"permit_expiries\" 112) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 67) (isVariant (getItem (attr (data) \"permit_expiries\" 112) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 67) \"Some\" 67) 67) ((set (getLocal \"effective_expiry\" 261) (openVariant (getItem (attr (data) \"permit_expiries\" 112) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 68) \"Some\" \"None\" 68) 68)) 67) (elseBlock ((ifBlock (and (contains (attr (data) \"user_expiries\" 116) (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) 70) (isVariant (getItem (attr (data) \"user_expiries\" 116) (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) 70) \"Some\" 70) 70) ((set (getLocal \"effective_expiry\" 261) (openVariant (getItem (attr (data) \"user_expiries\" 116) (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) 71) \"Some\" \"None\" 71) 71)) 70) (elseBlock ((set (getLocal \"effective_expiry\" 261) (attr (data) \"default_expiry\" 120) 73))))) (ifBlock (ge (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 65) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 66) 75) 75) \"Some\" \"None\" 75) (getLocal \"effective_expiry\" 75) 75) ((set_type (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) (tuple \"address\" \"bytes\") 51) (ifBlock (contains (attr (data) \"permits\" 65) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 52) ((delItem (attr (data) \"permits\" 65) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 53)) 52) (ifBlock (contains (attr (data) \"permit_expiries\" 112) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 54) ((delItem (attr (data) \"permit_expiries\" 112) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 55)) 54) (result (literal (bool False) 78) 78)) 75) (elseBlock ((set_type (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) (tuple \"address\" \"bytes\") 51) (ifBlock (contains (attr (data) \"permits\" 65) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 52) ((delItem (attr (data) \"permits\" 65) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 53)) 52) (ifBlock (contains (attr (data) \"permit_expiries\" 112) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 54) ((delItem (attr (data) \"permit_expiries\" 112) (tuple 63 (attr (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) \"from_\" 63) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 1 \"\" 261 (unknown 21)) \"in_param\" 261) 61) 61)) 55)) 54) (result (literal (bool True) 81) 81)))) 65) (elseBlock ((result (literal (bool False) 83) 83)))) 261) (bind \"__s7\" ((result (record 261 (operations (getLocal \"__operations__\" 261)) (result (getLocal \"__s7\" 261)) (storage (getLocal \"__storage__\" 261))) 261)) 261)))))\nentry_points_layout ()\nbalance ())", "line_no": 261, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 262}, {"action": "message", "id": 0, "message": "mint", "params": "(record 263 (address (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (value (literal (intOrNat 12) 263)))", "line_no": 263, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 263)", "show": true, "valid": "(literal (bool True) 263)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 264 (address (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (value (literal (intOrNat 3) 264)))", "line_no": 264, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 264)", "show": true, "valid": "(literal (bool True) 264)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 265 (address (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (value (literal (intOrNat 3) 265)))", "line_no": 265, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 265)", "show": true, "valid": "(literal (bool True) 265)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 265) \"balances\" 266) (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249) 266) \"balance\" 266) (literal (intOrNat 18) 266) 266)", "line_no": 266}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 267}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 268 (from_ (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 4) 268)))", "line_no": 268, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 268)", "show": true, "valid": "(literal (bool True) 268)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 268) \"balances\" 270) (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249) 270) \"balance\" 270) (literal (intOrNat 14) 270) 270)", "line_no": 270}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 271}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 273 (from_ (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 4) 273)))", "line_no": 273, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 273)", "show": true, "valid": "(literal (bool False) 273)"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 275}, {"action": "message", "id": 0, "message": "approve", "params": "(record 276 (spender (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 5) 276)))", "line_no": 276, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 276)", "show": true, "valid": "(literal (bool True) 276)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 277 (from_ (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 4) 277)))", "line_no": 277, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 277)", "show": true, "valid": "(literal (bool True) 277)"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 279}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 280 (from_ (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 4) 280)))", "line_no": 280, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 280)", "show": true, "valid": "(literal (bool False) 280)"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 282}, {"action": "message", "id": 0, "message": "burn", "params": "(record 283 (address (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 1) 283)))", "line_no": 283, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 283)", "show": true, "valid": "(literal (bool True) 283)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 283) \"balances\" 284) (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249) 284) \"balance\" 284) (literal (intOrNat 10) 284) 284)", "line_no": 284}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 285}, {"action": "message", "id": 0, "message": "burn", "params": "(record 286 (address (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 1) 286)))", "line_no": 286, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 286)", "show": true, "valid": "(literal (bool False) 286)"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 288}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 290)", "line_no": 290, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 290)", "show": true, "valid": "(literal (bool True) 290)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 291 (from_ (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 4) 291)))", "line_no": 291, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 291)", "show": true, "valid": "(literal (bool False) 291)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 291) \"balances\" 293) (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249) 293) \"balance\" 293) (literal (intOrNat 10) 293) 293)", "line_no": 293}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 294}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 295 (from_ (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 1) 295)))", "line_no": 295, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 295)", "show": true, "valid": "(literal (bool True) 295)"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 297}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 298)", "line_no": 298, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 298)", "show": true, "valid": "(literal (bool True) 298)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 298) \"balances\" 299) (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249) 299) \"balance\" 299) (literal (intOrNat 9) 299) 299)", "line_no": 299}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 300 (from_ (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 1) 300)))", "line_no": 300, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 300)", "show": true, "valid": "(literal (bool True) 300)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 300) \"totalSupply\" 303) (literal (intOrNat 17) 303) 303)", "line_no": 303}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 300) \"balances\" 304) (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249) 304) \"balance\" 304) (literal (intOrNat 8) 304) 304)", "line_no": 304}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 300) \"balances\" 304) (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) 305) \"balance\" 305) (literal (intOrNat 9) 305) 305)", "line_no": 305}, {"action": "html", "tag": "h2", "inner": "Permit Submissions", "line_no": 307}, {"action": "message", "id": 0, "message": "mint", "params": "(record 308 (address (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251)) (value (literal (intOrNat 10) 308)))", "line_no": 308, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 10)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 308)", "show": true, "valid": "(literal (bool True) 308)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 308) \"balances\" 309) (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) 309) \"balance\" 309) (literal (intOrNat 10) 309) 309)", "line_no": 309}, {"action": "message", "id": 0, "message": "permit", "params": "(list 326 (tuple 326 (reduce (attr (account_of_seed \"Carlos\" 251) \"public_key\" 251) 251) (tuple 326 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 251) \"secret_key\" 251) 251) (pack (tuple 317 (tuple 317 (literal (chain_id_cst \"0x9caecab9\") 317) (literal (local-address 0) 10)) (tuple 318 (literal (intOrNat 0) 326) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 326))) 311) 315))) 317) \"Raw\" 319) 319) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 326))) 311) 315))) (tuple 326 (reduce (attr (account_of_seed \"Robert\" 250) \"public_key\" 250) 250) (tuple 326 (reduce (make_signature (reduce (attr (account_of_seed \"Robert\" 250) \"secret_key\" 250) 250) (pack (tuple 321 (tuple 321 (literal (chain_id_cst \"0x9caecab9\") 321) (literal (local-address 0) 10)) (tuple 322 (literal (intOrNat 1) 326) (hashCrypto \"BLAKE2B\" (pack (tuple 314 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (tuple 314 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (literal (intOrNat 10) 326))) 313) 316))) 321) \"Raw\" 323) 323) (hashCrypto \"BLAKE2B\" (pack (tuple 314 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (tuple 314 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (literal (intOrNat 10) 326))) 313) 316))))", "line_no": 326, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 327)", "time": "(literal (timestamp 1571761674) 327)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 326)", "show": true, "valid": "(literal (bool True) 326)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 326) \"counter\" 328) (literal (intOrNat 2) 328) 328)", "line_no": 328}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 326) \"permits\" 329) (tuple 330 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 329))) 311) 315)) 329) (unknown 35) 329) 329) (pack (type_annotation (literal (timestamp 1571761674) 330) (unknown 35) 329) 329) 329)", "line_no": 329}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 326) \"permits\" 329) (tuple 332 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (hashCrypto \"BLAKE2B\" (pack (tuple 314 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (tuple 314 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (literal (intOrNat 10) 331))) 313) 316)) 331) (unknown 36) 331) 331) (pack (type_annotation (literal (timestamp 1571761674) 332) (unknown 36) 331) 331) 331)", "line_no": 331}, {"action": "html", "tag": "h2", "inner": "Execute transfer using permit", "line_no": 334}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 335 (from_ (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 10) 335)))", "line_no": 335, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 1571761674) 336)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 335)", "show": true, "valid": "(literal (bool True) 335)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 335) \"balances\" 337) (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) 337) \"balance\" 337) (literal (intOrNat 0) 337) 337)", "line_no": 337}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 335) \"balances\" 337) (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) 338) \"balance\" 338) (literal (intOrNat 19) 338) 338)", "line_no": 338}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 335) \"permits\" 340) (tuple 341 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 340))) 311) 315)) 340) 340)", "line_no": 340}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 343 (from_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (to_ (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251)) (value (literal (intOrNat 10) 343)))", "line_no": 343, "title": "", "messageClass": "", "source": "none", "sender": "seed:Carlos", "chain_id": "", "time": "(literal (timestamp 1571761674) 344)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 343)", "show": true, "valid": "(literal (bool True) 343)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 343) \"balances\" 345) (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) 345) \"balance\" 345) (literal (intOrNat 10) 345) 345)", "line_no": 345}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 343) \"balances\" 345) (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) 346) \"balance\" 346) (literal (intOrNat 9) 346) 346)", "line_no": 346}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 343) \"permits\" 348) (tuple 349 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (hashCrypto \"BLAKE2B\" (pack (tuple 314 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (tuple 314 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (literal (intOrNat 10) 348))) 313) 316)) 348) 348)", "line_no": 348}, {"action": "html", "tag": "h2", "inner": "Expired Permit", "line_no": 352}, {"action": "message", "id": 0, "message": "permit", "params": "(list 357 (tuple 357 (reduce (attr (account_of_seed \"Carlos\" 251) \"public_key\" 251) 251) (tuple 357 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 251) \"secret_key\" 251) 251) (pack (tuple 353 (tuple 353 (literal (chain_id_cst \"0x9caecab9\") 353) (literal (local-address 0) 10)) (tuple 354 (literal (intOrNat 2) 357) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 357))) 311) 315))) 353) \"Raw\" 355) 355) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 357))) 311) 315))))", "line_no": 357, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 358)", "time": "(literal (timestamp 1571761674) 358)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 357)", "show": true, "valid": "(literal (bool True) 357)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 357) \"counter\" 359) (literal (intOrNat 3) 359) 359)", "line_no": 359}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 357) \"permits\" 360) (tuple 361 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 360))) 311) 315)) 360) (unknown 37) 360) 360) (pack (type_annotation (literal (timestamp 1571761674) 361) (unknown 37) 360) 360) 360)", "line_no": 360}, {"action": "message", "id": 0, "message": "setExpiry", "params": "(record 362 (address (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251)) (permit (variant \"Some\" (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 362))) 311) 315) 362)) (seconds (literal (intOrNat 0) 362)))", "line_no": 362, "title": "", "messageClass": "", "source": "none", "sender": "seed:Carlos", "chain_id": "", "time": "(literal (timestamp 1571761674) 363)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 362)", "show": true, "valid": "(literal (bool True) 362)"}, {"action": "verify", "condition": "(eq (openVariant (getItem (attr (contractData 0 362) \"permit_expiries\" 364) (tuple 364 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 364))) 311) 315)) 364) \"Some\" \"None\" 364) (literal (intOrNat 0) 364) 364)", "line_no": 364}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 366 (from_ (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251)) (to_ (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)) (value (literal (intOrNat 10) 366)))", "line_no": 366, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 1571761680) 367)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 366)", "show": true, "valid": "(literal (bool False) 366)"}, {"action": "html", "tag": "h2", "inner": "Delete Expired Permit", "line_no": 369}, {"action": "message", "id": 0, "message": "delete_permits", "params": "(list 370 (tuple 370 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 370))) 311) 315)))", "line_no": 370, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761680) 371)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 370)", "show": true, "valid": "(literal (bool True) 370)"}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 370) \"permit_expiries\" 372) (tuple 373 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 372))) 311) 315)) 372) 372)", "line_no": 372}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 370) \"permits\" 374) (tuple 375 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (hashCrypto \"BLAKE2B\" (pack (tuple 312 (reduce (attr (account_of_seed \"Carlos\" 251) \"address\" 251) 251) (tuple 312 (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250) (literal (intOrNat 10) 374))) 311) 315)) 374) 374)", "line_no": 374}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 377}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 378}, {"action": "newContract", "id": 2, "export": "(storage (record 230 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 235) (variant \"Some\" (params 234) 235) 235))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 380, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(record 381 (arg (record 381 (owner (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)))) (target (literal (local-address 2) 231)))", "line_no": 381, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761680) 371)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 381)", "show": true, "valid": "(literal (bool True) 381)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 380) \"last\" 383) (unknown 38) 383) 383) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 383) 383) (unknown 38) 383) 383) 383)", "line_no": 383}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 385}, {"action": "newContract", "id": 4, "export": "(storage (record 230 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 235) (variant \"Some\" (params 234) 235) 235))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 387, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(record 388 (target (literal (local-address 4) 231)))", "line_no": 388, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761680) 371)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 388)", "show": true, "valid": "(literal (bool True) 388)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 387) \"last\" 389) (unknown 39) 389) 389) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 248) \"address\" 248) 248) 390) (unknown 39) 389) 389) 389)", "line_no": 389}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 392}, {"action": "newContract", "id": 6, "export": "(storage (record 230 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 235) (variant \"Some\" (params 234) 235) 235))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 394, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(record 395 (target (literal (local-address 6) 231)))", "line_no": 395, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761680) 371)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 395)", "show": true, "valid": "(literal (bool True) 395)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 6 394) \"last\" 396) (unknown 40) 396) 396) (pack (type_annotation (variant \"Some\" (literal (intOrNat 27) 396) 396) (unknown 40) 396) 396) 396)", "line_no": 396}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 398}, {"action": "newContract", "id": 8, "export": "(storage (record 230 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 235) (variant \"Some\" (params 234) 235) 235))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 400, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(record 401 (arg (record 401 (owner (reduce (attr (account_of_seed \"Alice\" 249) \"address\" 249) 249)) (spender (reduce (attr (account_of_seed \"Robert\" 250) \"address\" 250) 250)))) (target (literal (local-address 8) 231)))", "line_no": 401, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761680) 371)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 401)", "show": true, "valid": "(literal (bool True) 401)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 8 400) \"last\" 403) (unknown 41) 403) 403) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 403) 403) (unknown 41) 403) 403) 403)", "line_no": 403}, {"action": "html", "tag": "h2", "inner": "Counter", "line_no": 405}, {"action": "newContract", "id": 10, "export": "(storage (record 230 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 235) (variant \"Some\" (params 234) 235) 235))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 407, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getCounter", "params": "(record 408 (target (literal (local-address 10) 231)))", "line_no": 408, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761680) 371)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 408)", "show": true, "valid": "(literal (bool True) 408)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 10 407) \"last\" 409) (unknown 42) 409) 409) (pack (type_annotation (variant \"Some\" (literal (intOrNat 3) 409) 409) (unknown 42) 409) 409) 409)", "line_no": 409}, {"action": "html", "tag": "h2", "inner": "Default Expiry", "line_no": 411}, {"action": "newContract", "id": 12, "export": "(storage (record 230 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 235) (variant \"Some\" (params 234) 235) 235))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 413, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getDefaultExpiry", "params": "(record 414 (target (literal (local-address 12) 231)))", "line_no": 414, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761680) 371)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 414)", "show": true, "valid": "(literal (bool True) 414)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 12 413) \"last\" 415) (unknown 43) 415) 415) (pack (type_annotation (variant \"Some\" (literal (intOrNat 50000) 415) 415) (unknown 43) 415) 415) 415)", "line_no": 415}]}]