[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 135}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 137}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 146}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 147 (account_of_seed \"Administrator\" 140) (account_of_seed \"Alice\" 141) (account_of_seed \"Robert\" 142) (account_of_seed \"Carlos\" 143))", "line_no": 147}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 149}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 152}, {"action": "newContract", "id": 0, "export": "(storage (record 6 (administrator (reduce (attr (account_of_seed \"Administrator\" 140) \"address\" 140) 140)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 11) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 8 ((literal (string \"\") 153) (literal (bytes \"0x74657a6f732d73746f726167653a6d642d6a736f6e\") 8)) ((literal (string \"md-json\") 153) (literal (bytes \"0x7b7d\") 8)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple \"address\" \"bytes\") (option \"nat\")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple \"address\" \"bytes\") \"timestamp\") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap \"address\" (option \"nat\")) 7)))\nstorage_type (())\nmessages ((add_permits True ((set_type (params 42) (list (tuple \"key\" (tuple \"signature\" \"bytes\"))) 43) (verify (invert (attr (data) \"paused\" 44) 44) False 44) (defineLocal \"params_hash\" (literal (bytes \"0x0000\") 46) 46) (defineLocal \"unsigned\" (literal (bytes \"0x0000\") 47) 47) (defineLocal \"pk_address\" (to_address (self) \"None\") 48) (forGroup \"permit\" (params 42) ((set (getLocal \"params_hash\" 153) (second (second (iter \"permit\" 49) 50) 50) 50) (set (getLocal \"unsigned\" 153) (pack (tuple 51 (tuple 51 (chain_id) (to_address (self) \"None\")) (tuple 51 (attr (data) \"counter\" 51) (getLocal \"params_hash\" 51))) 51) 51) (set (getLocal \"pk_address\" 153) (to_address (implicit_account (hash_key (first (iter \"permit\" 49) 52) 52) 52) 52) 52) (verify (invert (contains (attr (data) \"permits\" 33) (tuple 53 (getLocal \"pk_address\" 53) (getLocal \"params_hash\" 53)) 53) 53) False (tuple 53 (literal (string \"DUP_PERMIT\") 153) (getLocal \"params_hash\" 53)) 53) (verify (check_signature (first (iter \"permit\" 49) 54) (first (second (iter \"permit\" 49) 54) 54) (getLocal \"unsigned\" 54) 54) False (tuple 54 (literal (string \"MISSIGNED\") 153) (getLocal \"unsigned\" 54)) 54) (set (getItem (attr (data) \"permits\" 33) (tuple 55 (getLocal \"pk_address\" 55) (getLocal \"params_hash\" 55)) 55) (now) 55) (set (attr (data) \"counter\" 51) (add (attr (data) \"counter\" 51) (literal (intOrNat 1) 56) 56) 56)) 49))) (approve True ((set_type (params 59) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 60) (verify (invert (attr (data) \"paused\" 44) 61) False 61) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 62) (sender) 62) \"approvals\" 62) (attr (params 59) \"spender\" 62) (literal (intOrNat 0) 62) 62) (literal (intOrNat 0) 63) 63) (eq (attr (params 59) \"value\" 63) (literal (intOrNat 0) 63) 63) 63) False (literal (string \"UnsafeAllowanceChange\") 63) 63) (set (getItem (attr (getItem (attr (data) \"balances\" 62) (sender) 64) \"approvals\" 64) (attr (params 59) \"spender\" 62) 64) (attr (params 59) \"value\" 63) 64))) (burn True ((set_type (params 87) (record ((address \"address\") (value \"nat\")) None) 88) (verify (eq (sender) (attr (data) \"administrator\" 89) 89) False 89) (verify (ge (attr (getItem (attr (data) \"balances\" 62) (attr (params 87) \"address\" 90) 90) \"balance\" 90) (attr (params 87) \"value\" 90) 90) False 90) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 87) \"address\" 90) 91) \"balance\" 91) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 62) (attr (params 87) \"address\" 90) 91) \"balance\" 91) (attr (params 87) \"value\" 90) 91) 91) \"Some\" \"None\" 91) 91) (set (attr (data) \"totalSupply\" 92) (openVariant (isNat (sub (attr (data) \"totalSupply\" 92) (attr (params 87) \"value\" 90) 92) 92) \"Some\" \"None\" 92) 92))) (getAdministrator True ((set (operations 112) (cons (transfer (attr (data) \"administrator\" 89) (literal (mutez 0) 112) (openVariant (contract \"\" \"address\" (attr (params 111) \"target\" 112) 112) \"Some\" \"None\" 112) 112) (operations 112) 112) 112))) (getAllowance True ((set (operations 104) (cons (transfer (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (attr (params 103) \"arg\" 104) \"owner\" 104) 104) \"approvals\" 104) (attr (attr (params 103) \"arg\" 104) \"spender\" 104) 104) (literal (mutez 0) 104) (openVariant (contract \"\" \"nat\" (attr (params 103) \"target\" 104) 104) \"Some\" \"None\" 104) 104) (operations 104) 104) 104))) (getBalance True ((set (operations 100) (cons (transfer (attr (getItem (attr (data) \"balances\" 62) (attr (attr (params 99) \"arg\" 100) \"owner\" 100) 100) \"balance\" 100) (literal (mutez 0) 100) (openVariant (contract \"\" \"nat\" (attr (params 99) \"target\" 100) 100) \"Some\" \"None\" 100) 100) (operations 100) 100) 100))) (getCounter True ((set (operations 116) (cons (transfer (attr (data) \"counter\" 51) (literal (mutez 0) 116) (openVariant (contract \"\" \"nat\" (attr (params 115) \"target\" 116) 116) \"Some\" \"None\" 116) 116) (operations 116) 116) 116))) (getDefaultExpiry True ((set (operations 120) (cons (transfer (attr (data) \"default_expiry\" 120) (literal (mutez 0) 120) (openVariant (contract \"\" \"nat\" (attr (params 119) \"target\" 120) 120) \"Some\" \"None\" 120) 120) (operations 120) 120) 120))) (getTotalSupply True ((set (operations 108) (cons (transfer (attr (data) \"totalSupply\" 92) (literal (mutez 0) 108) (openVariant (contract \"\" \"nat\" (attr (params 107) \"target\" 108) 108) \"Some\" \"None\" 108) 108) (operations 108) 108) 108))) (mint True ((set_type (params 79) (record ((address \"address\") (value \"nat\")) None) 80) (verify (eq (sender) (attr (data) \"administrator\" 89) 81) False 81) (ifBlock (invert (contains (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 95) 95) ((set (getItem (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 96) (record 96 (approvals (map 96 )) (balance (literal (intOrNat 0) 96))) 96)) 95) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 83) \"balance\" 83) (add (attr (getItem (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 83) \"balance\" 83) (attr (params 79) \"value\" 83) 83) 83) (set (attr (data) \"totalSupply\" 92) (add (attr (data) \"totalSupply\" 92) (attr (params 79) \"value\" 83) 84) 84))) (setAdministrator True ((set_type (params 73) \"address\" 74) (verify (eq (sender) (attr (data) \"administrator\" 89) 75) False 75) (set (attr (data) \"administrator\" 89) (params 73) 76))) (setPause True ((set_type (params 67) \"bool\" 68) (verify (eq (sender) (attr (data) \"administrator\" 89) 69) False 69) (set (attr (data) \"paused\" 44) (params 67) 70))) (transfer True ((set_type (params 11) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 12) (defineLocal \"sender\" (sender) 13) (defineLocal \"y4\" (call_lambda (global \"transfer_presigned\" 153) (record 14 (in_param (params 11)) (in_storage (data))) 14) 14) (set (data) (attr (getLocal \"y4\" 14) \"storage\" 14) 14) (forGroup \"op\" (attr (getLocal \"y4\" 14) \"operations\" 14) ((set (operations 14) (cons (iter \"op\" 14) (operations 14) 14) 14)) 14) (ifBlock (attr (getLocal \"y4\" 14) \"result\" 14) ((set (getLocal \"sender\" 153) (attr (params 11) \"from_\" 15) 15)) 14) (verify (or (eq (getLocal \"sender\" 16) (attr (data) \"administrator\" 89) 16) (and (invert (attr (data) \"paused\" 44) 17) (or (eq (attr (params 11) \"from_\" 15) (getLocal \"sender\" 18) 18) (ge (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 19) \"approvals\" 19) (getLocal \"sender\" 19) 19) (attr (params 11) \"value\" 19) 19) 18) 17) 16) False 16) (ifBlock (invert (contains (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 95) 95) ((set (getItem (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 96) (record 96 (approvals (map 96 )) (balance (literal (intOrNat 0) 96))) 96)) 95) (verify (ge (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 21) \"balance\" 21) (attr (params 11) \"value\" 19) 21) False 21) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 22) \"balance\" 22) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 22) \"balance\" 22) (attr (params 11) \"value\" 19) 22) 22) \"Some\" \"None\" 22) 22) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 23) \"balance\" 23) (add (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 23) \"balance\" 23) (attr (params 11) \"value\" 19) 23) 23) (ifBlock (and (neq (attr (params 11) \"from_\" 15) (getLocal \"sender\" 24) 24) (neq (attr (data) \"administrator\" 89) (getLocal \"sender\" 24) 24) 24) ((set (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 25) \"approvals\" 25) (getLocal \"sender\" 25) 25) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 25) \"approvals\" 25) (getLocal \"sender\" 25) 25) (attr (params 11) \"value\" 19) 25) 25) \"Some\" \"None\" 25) 25)) 24))))\nflags ()\nglobals ((transfer_presigned (lambda 0 \"\" 153 ((defineLocal \"__operations__\" (type_annotation (list 153 ) (list \"operation\") 153) 153) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 0 \"\" 153 (unknown 12)) \"in_storage\" 153) (unknown 13) 153) 153) (seq \"__s3\" ((set_type (attr (lambdaParams 0 \"\" 153 (unknown 12)) \"in_param\" 153) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 30) (ifBlock (contains (attr (data) \"permits\" 33) (tuple 33 (attr (attr (lambdaParams 0 \"\" 153 (unknown 12)) \"in_param\" 153) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 153 (unknown 12)) \"in_param\" 153) 31) 31)) 33) ((delItem (attr (data) \"permits\" 33) (tuple 35 (attr (attr (lambdaParams 0 \"\" 153 (unknown 12)) \"in_param\" 153) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 153 (unknown 12)) \"in_param\" 153) 31) 31)) 35) (result (literal (bool True) 37) 37)) 33) (elseBlock ((result (literal (bool False) 39) 39)))) 153) (bind \"__s3\" ((result (record 153 (operations (getLocal \"__operations__\" 153)) (result (getLocal \"__s3\" 153)) (storage (getLocal \"__storage__\" 153))) 153)) 153)))))\nentry_points_layout ()\nbalance ())", "line_no": 153, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 154}, {"action": "message", "id": 0, "message": "mint", "params": "(record 155 (address (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (value (literal (intOrNat 12) 155)))", "line_no": 155, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 155)", "show": true, "valid": "(literal (bool True) 155)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 156 (address (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (value (literal (intOrNat 3) 156)))", "line_no": 156, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 156)", "show": true, "valid": "(literal (bool True) 156)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 157 (address (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (value (literal (intOrNat 3) 157)))", "line_no": 157, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 157)", "show": true, "valid": "(literal (bool True) 157)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 157) \"balances\" 158) (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141) 158) \"balance\" 158) (literal (intOrNat 18) 158) 158)", "line_no": 158}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 159}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 160 (from_ (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 4) 160)))", "line_no": 160, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 160)", "show": true, "valid": "(literal (bool True) 160)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 160) \"balances\" 161) (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141) 161) \"balance\" 161) (literal (intOrNat 14) 161) 161)", "line_no": 161}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 162}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 163 (from_ (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 4) 163)))", "line_no": 163, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 163)", "show": true, "valid": "(literal (bool False) 163)"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 164}, {"action": "message", "id": 0, "message": "approve", "params": "(record 165 (spender (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 5) 165)))", "line_no": 165, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 165)", "show": true, "valid": "(literal (bool True) 165)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 166 (from_ (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 4) 166)))", "line_no": 166, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 166)", "show": true, "valid": "(literal (bool True) 166)"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 167}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 168 (from_ (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 4) 168)))", "line_no": 168, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 168)", "show": true, "valid": "(literal (bool False) 168)"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 169}, {"action": "message", "id": 0, "message": "burn", "params": "(record 170 (address (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 1) 170)))", "line_no": 170, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 170)", "show": true, "valid": "(literal (bool True) 170)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 170) \"balances\" 171) (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141) 171) \"balance\" 171) (literal (intOrNat 10) 171) 171)", "line_no": 171}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 172}, {"action": "message", "id": 0, "message": "burn", "params": "(record 173 (address (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 1) 173)))", "line_no": 173, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 173)", "show": true, "valid": "(literal (bool False) 173)"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 174}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 175)", "line_no": 175, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 175)", "show": true, "valid": "(literal (bool True) 175)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 176 (from_ (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 4) 176)))", "line_no": 176, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 176)", "show": true, "valid": "(literal (bool False) 176)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 176) \"balances\" 177) (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141) 177) \"balance\" 177) (literal (intOrNat 10) 177) 177)", "line_no": 177}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 178}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 179 (from_ (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 1) 179)))", "line_no": 179, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 179)", "show": true, "valid": "(literal (bool True) 179)"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 180}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 181)", "line_no": 181, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 181)", "show": true, "valid": "(literal (bool True) 181)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 181) \"balances\" 182) (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141) 182) \"balance\" 182) (literal (intOrNat 9) 182) 182)", "line_no": 182}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 183 (from_ (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 1) 183)))", "line_no": 183, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 183)", "show": true, "valid": "(literal (bool True) 183)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 183) \"totalSupply\" 185) (literal (intOrNat 17) 185) 185)", "line_no": 185}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 183) \"balances\" 186) (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141) 186) \"balance\" 186) (literal (intOrNat 8) 186) 186)", "line_no": 186}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 183) \"balances\" 186) (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142) 187) \"balance\" 187) (literal (intOrNat 9) 187) 187)", "line_no": 187}, {"action": "html", "tag": "h2", "inner": "Permit Submission", "line_no": 189}, {"action": "message", "id": 0, "message": "mint", "params": "(record 190 (address (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143)) (value (literal (intOrNat 10) 190)))", "line_no": 190, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 190)", "show": true, "valid": "(literal (bool True) 190)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 190) \"balances\" 191) (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) 191) \"balance\" 191) (literal (intOrNat 10) 191) 191)", "line_no": 191}, {"action": "message", "id": 0, "message": "add_permits", "params": "(list 198 (tuple 198 (reduce (attr (account_of_seed \"Carlos\" 143) \"public_key\" 143) 143) (tuple 198 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 143) \"secret_key\" 143) 143) (pack (tuple 196 (tuple 196 (literal (chain_id_cst \"0x9caecab9\") 196) (literal (local-address 0) 6)) (tuple 196 (attr (contractData 0 190) \"counter\" 196) (hashCrypto \"BLAKE2B\" (pack (tuple 193 (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) (tuple 193 (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142) (literal (intOrNat 10) 198))) 193) 194))) 196) \"Raw\" 197) 197) (hashCrypto \"BLAKE2B\" (pack (tuple 193 (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) (tuple 193 (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142) (literal (intOrNat 10) 198))) 193) 194))))", "line_no": 198, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 198)", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 198)", "show": true, "valid": "(literal (bool True) 198)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 198) \"counter\" 199) (literal (intOrNat 1) 199) 199)", "line_no": 199}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 198) \"permits\" 200) (tuple 200 (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) (hashCrypto \"BLAKE2B\" (pack (tuple 193 (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) (tuple 193 (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142) (literal (intOrNat 10) 200))) 193) 194)) 200) (unknown 21) 200) 200) (pack (type_annotation (literal (timestamp 1571761674) 200) (unknown 21) 200) 200) 200)", "line_no": 200}, {"action": "html", "tag": "h2", "inner": "Execute transfer using permit", "line_no": 202}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 203 (from_ (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143)) (to_ (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)) (value (literal (intOrNat 10) 203)))", "line_no": 203, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 203)", "show": true, "valid": "(literal (bool True) 203)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 203) \"balances\" 204) (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) 204) \"balance\" 204) (literal (intOrNat 0) 204) 204)", "line_no": 204}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 203) \"balances\" 204) (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142) 205) \"balance\" 205) (literal (intOrNat 19) 205) 205)", "line_no": 205}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 203) \"permits\" 207) (tuple 207 (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) (pack (tuple 196 (tuple 196 (literal (chain_id_cst \"0x9caecab9\") 196) (literal (local-address 0) 6)) (tuple 196 (attr (contractData 0 190) \"counter\" 196) (hashCrypto \"BLAKE2B\" (pack (tuple 193 (reduce (attr (account_of_seed \"Carlos\" 143) \"address\" 143) 143) (tuple 193 (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142) (literal (intOrNat 10) 207))) 193) 194))) 196)) 207) 207)", "line_no": 207}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 209}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 210}, {"action": "newContract", "id": 2, "export": "(storage (record 124 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 128) (variant \"Some\" (params 127) 128) 128))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 212, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(record 213 (arg (record 213 (owner (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)))) (target (literal (local-address 2) 125)))", "line_no": 213, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 213)", "show": true, "valid": "(literal (bool True) 213)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 212) \"last\" 214) (unknown 22) 214) 214) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 214) 214) (unknown 22) 214) 214) 214)", "line_no": 214}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 216}, {"action": "newContract", "id": 4, "export": "(storage (record 124 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 128) (variant \"Some\" (params 127) 128) 128))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 218, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(record 219 (target (literal (local-address 4) 125)))", "line_no": 219, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 219)", "show": true, "valid": "(literal (bool True) 219)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 218) \"last\" 220) (unknown 23) 220) 220) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 140) \"address\" 140) 140) 220) (unknown 23) 220) 220) 220)", "line_no": 220}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 222}, {"action": "newContract", "id": 6, "export": "(storage (record 124 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 128) (variant \"Some\" (params 127) 128) 128))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 224, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(record 225 (target (literal (local-address 6) 125)))", "line_no": 225, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 225)", "show": true, "valid": "(literal (bool True) 225)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 6 224) \"last\" 226) (unknown 24) 226) 226) (pack (type_annotation (variant \"Some\" (literal (intOrNat 27) 226) 226) (unknown 24) 226) 226) 226)", "line_no": 226}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 228}, {"action": "newContract", "id": 8, "export": "(storage (record 124 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 128) (variant \"Some\" (params 127) 128) 128))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 230, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(record 231 (arg (record 231 (owner (reduce (attr (account_of_seed \"Alice\" 141) \"address\" 141) 141)) (spender (reduce (attr (account_of_seed \"Robert\" 142) \"address\" 142) 142)))) (target (literal (local-address 8) 125)))", "line_no": 231, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 231)", "show": true, "valid": "(literal (bool True) 231)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 8 230) \"last\" 232) (unknown 25) 232) 232) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 232) 232) (unknown 25) 232) 232) 232)", "line_no": 232}, {"action": "html", "tag": "h2", "inner": "Counter", "line_no": 234}, {"action": "newContract", "id": 10, "export": "(storage (record 124 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 128) (variant \"Some\" (params 127) 128) 128))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 236, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getCounter", "params": "(record 237 (target (literal (local-address 10) 125)))", "line_no": 237, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 237)", "show": true, "valid": "(literal (bool True) 237)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 10 236) \"last\" 238) (unknown 26) 238) 238) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 238) 238) (unknown 26) 238) 238) 238)", "line_no": 238}, {"action": "html", "tag": "h2", "inner": "Default Expiry", "line_no": 240}, {"action": "newContract", "id": 12, "export": "(storage (record 124 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 128) (variant \"Some\" (params 127) 128) 128))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 242, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getDefaultExpiry", "params": "(record 243 (target (literal (local-address 12) 125)))", "line_no": 243, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 198)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 243)", "show": true, "valid": "(literal (bool True) 243)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 12 242) \"last\" 244) (unknown 27) 244) 244) (pack (type_annotation (variant \"Some\" (literal (intOrNat 360) 244) 244) (unknown 27) 244) 244) 244)", "line_no": 244}]}]