[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 127}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 129}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 138}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 139 (account_of_seed \"Administrator\" 132) (account_of_seed \"Alice\" 133) (account_of_seed \"Robert\" 134) (account_of_seed \"Carlos\" 135))", "line_no": 139}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 141}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 144}, {"action": "newContract", "id": 0, "export": "(storage (record 6 (administrator (reduce (attr (account_of_seed \"Administrator\" 132) \"address\" 132) 132)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 11) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 8 ((literal (string \"\") 145) (literal (bytes \"0x74657a6f732d73746f726167653a\") 8)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple \"address\" \"bytes\") (option \"nat\")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple \"address\" \"bytes\") \"timestamp\") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap \"address\" (option \"nat\")) 7)))\nstorage_type (())\nmessages ((add_permits True ((set_type (params 42) (list (tuple \"key\" (tuple \"signature\" \"bytes\"))) 43) (verify (invert (attr (data) \"paused\" 44) 44) False 44) (defineLocal \"params_hash\" (literal (bytes \"0x0000\") 46) 46) (defineLocal \"unsigned\" (literal (bytes \"0x0000\") 47) 47) (defineLocal \"pk_address\" (to_address (self) \"None\") 48) (forGroup \"permit\" (params 42) ((set (getLocal \"params_hash\" 145) (second (second (iter \"permit\" 49) 50) 50) 50) (set (getLocal \"unsigned\" 145) (pack (tuple 51 (tuple 51 (chain_id) (to_address (self) \"None\")) (tuple 51 (attr (data) \"counter\" 51) (getLocal \"params_hash\" 51))) 51) 51) (set (getLocal \"pk_address\" 145) (to_address (implicit_account (hash_key (first (iter \"permit\" 49) 52) 52) 52) 52) 52) (verify (invert (contains (attr (data) \"permits\" 33) (tuple 53 (getLocal \"pk_address\" 53) (getLocal \"params_hash\" 53)) 53) 53) False (tuple 53 (literal (string \"DUP_PERMIT\") 145) (getLocal \"params_hash\" 53)) 53) (verify (check_signature (first (iter \"permit\" 49) 54) (first (second (iter \"permit\" 49) 54) 54) (getLocal \"unsigned\" 54) 54) False (tuple 54 (literal (string \"MISSIGNED\") 145) (getLocal \"unsigned\" 54)) 54) (set (getItem (attr (data) \"permits\" 33) (tuple 55 (getLocal \"pk_address\" 55) (getLocal \"params_hash\" 55)) 55) (now) 55) (set (attr (data) \"counter\" 51) (add (attr (data) \"counter\" 51) (literal (intOrNat 1) 56) 56) 56)) 49))) (approve True ((set_type (params 59) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 60) (verify (invert (attr (data) \"paused\" 44) 61) False 61) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 62) (sender) 62) \"approvals\" 62) (attr (params 59) \"spender\" 62) (literal (intOrNat 0) 62) 62) (literal (intOrNat 0) 63) 63) (eq (attr (params 59) \"value\" 63) (literal (intOrNat 0) 63) 63) 63) False (literal (string \"UnsafeAllowanceChange\") 63) 63) (set (getItem (attr (getItem (attr (data) \"balances\" 62) (sender) 64) \"approvals\" 64) (attr (params 59) \"spender\" 62) 64) (attr (params 59) \"value\" 63) 64))) (burn True ((set_type (params 87) (record ((address \"address\") (value \"nat\")) None) 88) (verify (eq (sender) (attr (data) \"administrator\" 89) 89) False 89) (verify (ge (attr (getItem (attr (data) \"balances\" 62) (attr (params 87) \"address\" 90) 90) \"balance\" 90) (attr (params 87) \"value\" 90) 90) False 90) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 87) \"address\" 90) 91) \"balance\" 91) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 62) (attr (params 87) \"address\" 90) 91) \"balance\" 91) (attr (params 87) \"value\" 90) 91) 91) \"Some\" \"None\" 91) 91) (set (attr (data) \"totalSupply\" 92) (openVariant (isNat (sub (attr (data) \"totalSupply\" 92) (attr (params 87) \"value\" 90) 92) 92) \"Some\" \"None\" 92) 92))) (getAdministrator True ((set (operations 112) (cons (transfer (attr (data) \"administrator\" 89) (literal (mutez 0) 112) (openVariant (contract \"\" \"address\" (attr (params 111) \"target\" 112) 112) \"Some\" \"None\" 112) 112) (operations 112) 112) 112))) (getAllowance True ((set (operations 104) (cons (transfer (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (attr (params 103) \"arg\" 104) \"owner\" 104) 104) \"approvals\" 104) (attr (attr (params 103) \"arg\" 104) \"spender\" 104) 104) (literal (mutez 0) 104) (openVariant (contract \"\" \"nat\" (attr (params 103) \"target\" 104) 104) \"Some\" \"None\" 104) 104) (operations 104) 104) 104))) (getBalance True ((set (operations 100) (cons (transfer (attr (getItem (attr (data) \"balances\" 62) (attr (attr (params 99) \"arg\" 100) \"owner\" 100) 100) \"balance\" 100) (literal (mutez 0) 100) (openVariant (contract \"\" \"nat\" (attr (params 99) \"target\" 100) 100) \"Some\" \"None\" 100) 100) (operations 100) 100) 100))) (getTotalSupply True ((set (operations 108) (cons (transfer (attr (data) \"totalSupply\" 92) (literal (mutez 0) 108) (openVariant (contract \"\" \"nat\" (attr (params 107) \"target\" 108) 108) \"Some\" \"None\" 108) 108) (operations 108) 108) 108))) (mint True ((set_type (params 79) (record ((address \"address\") (value \"nat\")) None) 80) (verify (eq (sender) (attr (data) \"administrator\" 89) 81) False 81) (ifBlock (invert (contains (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 95) 95) ((set (getItem (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 96) (record 96 (approvals (map 96 )) (balance (literal (intOrNat 0) 96))) 96)) 95) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 83) \"balance\" 83) (add (attr (getItem (attr (data) \"balances\" 62) (attr (params 79) \"address\" 82) 83) \"balance\" 83) (attr (params 79) \"value\" 83) 83) 83) (set (attr (data) \"totalSupply\" 92) (add (attr (data) \"totalSupply\" 92) (attr (params 79) \"value\" 83) 84) 84))) (setAdministrator True ((set_type (params 73) \"address\" 74) (verify (eq (sender) (attr (data) \"administrator\" 89) 75) False 75) (set (attr (data) \"administrator\" 89) (params 73) 76))) (setPause True ((set_type (params 67) \"bool\" 68) (verify (eq (sender) (attr (data) \"administrator\" 89) 69) False 69) (set (attr (data) \"paused\" 44) (params 67) 70))) (transfer True ((set_type (params 11) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 12) (defineLocal \"sender\" (sender) 13) (defineLocal \"y4\" (call_lambda (global \"transfer_presigned\" 145) (record 14 (in_param (params 11)) (in_storage (data))) 14) 14) (set (data) (attr (getLocal \"y4\" 14) \"storage\" 14) 14) (forGroup \"op\" (attr (getLocal \"y4\" 14) \"operations\" 14) ((set (operations 14) (cons (iter \"op\" 14) (operations 14) 14) 14)) 14) (ifBlock (attr (getLocal \"y4\" 14) \"result\" 14) ((set (getLocal \"sender\" 145) (attr (params 11) \"from_\" 15) 15)) 14) (verify (or (eq (getLocal \"sender\" 16) (attr (data) \"administrator\" 89) 16) (and (invert (attr (data) \"paused\" 44) 17) (or (eq (attr (params 11) \"from_\" 15) (getLocal \"sender\" 18) 18) (ge (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 19) \"approvals\" 19) (getLocal \"sender\" 19) 19) (attr (params 11) \"value\" 19) 19) 18) 17) 16) False 16) (ifBlock (invert (contains (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 95) 95) ((set (getItem (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 96) (record 96 (approvals (map 96 )) (balance (literal (intOrNat 0) 96))) 96)) 95) (verify (ge (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 21) \"balance\" 21) (attr (params 11) \"value\" 19) 21) False 21) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 22) \"balance\" 22) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 22) \"balance\" 22) (attr (params 11) \"value\" 19) 22) 22) \"Some\" \"None\" 22) 22) (set (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 23) \"balance\" 23) (add (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"to_\" 20) 23) \"balance\" 23) (attr (params 11) \"value\" 19) 23) 23) (ifBlock (and (neq (attr (params 11) \"from_\" 15) (getLocal \"sender\" 24) 24) (neq (attr (data) \"administrator\" 89) (getLocal \"sender\" 24) 24) 24) ((set (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 25) \"approvals\" 25) (getLocal \"sender\" 25) 25) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 62) (attr (params 11) \"from_\" 15) 25) \"approvals\" 25) (getLocal \"sender\" 25) 25) (attr (params 11) \"value\" 19) 25) 25) \"Some\" \"None\" 25) 25)) 24))))\nflags ()\nglobals ((transfer_presigned (lambda 0 \"\" 145 ((defineLocal \"__operations__\" (type_annotation (list 145 ) (list \"operation\") 145) 145) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 0 \"\" 145 (unknown 12)) \"in_storage\" 145) (unknown 13) 145) 145) (seq \"__s3\" ((set_type (attr (lambdaParams 0 \"\" 145 (unknown 12)) \"in_param\" 145) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 30) (ifBlock (contains (attr (data) \"permits\" 33) (tuple 33 (attr (attr (lambdaParams 0 \"\" 145 (unknown 12)) \"in_param\" 145) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 145 (unknown 12)) \"in_param\" 145) 31) 31)) 33) ((delItem (attr (data) \"permits\" 33) (tuple 35 (attr (attr (lambdaParams 0 \"\" 145 (unknown 12)) \"in_param\" 145) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 145 (unknown 12)) \"in_param\" 145) 31) 31)) 35) (result (literal (bool True) 37) 37)) 33) (elseBlock ((result (literal (bool False) 39) 39)))) 145) (bind \"__s3\" ((result (record 145 (operations (getLocal \"__operations__\" 145)) (result (getLocal \"__s3\" 145)) (storage (getLocal \"__storage__\" 145))) 145)) 145)))))\nentry_points_layout ()\nbalance ())", "line_no": 145, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 146}, {"action": "message", "id": 0, "message": "mint", "params": "(record 147 (address (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (value (literal (intOrNat 12) 147)))", "line_no": 147, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 147)", "show": true, "valid": "(literal (bool True) 147)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 148 (address (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (value (literal (intOrNat 3) 148)))", "line_no": 148, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 148)", "show": true, "valid": "(literal (bool True) 148)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 149 (address (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (value (literal (intOrNat 3) 149)))", "line_no": 149, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 149)", "show": true, "valid": "(literal (bool True) 149)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 149) \"balances\" 150) (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133) 150) \"balance\" 150) (literal (intOrNat 18) 150) 150)", "line_no": 150}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 151}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 152 (from_ (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 4) 152)))", "line_no": 152, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 152)", "show": true, "valid": "(literal (bool True) 152)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 152) \"balances\" 153) (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133) 153) \"balance\" 153) (literal (intOrNat 14) 153) 153)", "line_no": 153}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 154}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 155 (from_ (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 4) 155)))", "line_no": 155, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 155)", "show": true, "valid": "(literal (bool False) 155)"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 156}, {"action": "message", "id": 0, "message": "approve", "params": "(record 157 (spender (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 5) 157)))", "line_no": 157, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 157)", "show": true, "valid": "(literal (bool True) 157)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 158 (from_ (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 4) 158)))", "line_no": 158, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 158)", "show": true, "valid": "(literal (bool True) 158)"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 159}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 160 (from_ (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 4) 160)))", "line_no": 160, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 160)", "show": true, "valid": "(literal (bool False) 160)"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 161}, {"action": "message", "id": 0, "message": "burn", "params": "(record 162 (address (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 1) 162)))", "line_no": 162, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 162)", "show": true, "valid": "(literal (bool True) 162)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 162) \"balances\" 163) (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133) 163) \"balance\" 163) (literal (intOrNat 10) 163) 163)", "line_no": 163}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 164}, {"action": "message", "id": 0, "message": "burn", "params": "(record 165 (address (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 1) 165)))", "line_no": 165, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 165)", "show": true, "valid": "(literal (bool False) 165)"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 166}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 167)", "line_no": 167, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 167)", "show": true, "valid": "(literal (bool True) 167)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 168 (from_ (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 4) 168)))", "line_no": 168, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 168)", "show": true, "valid": "(literal (bool False) 168)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 168) \"balances\" 169) (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133) 169) \"balance\" 169) (literal (intOrNat 10) 169) 169)", "line_no": 169}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 170}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 171 (from_ (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 1) 171)))", "line_no": 171, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 171)", "show": true, "valid": "(literal (bool True) 171)"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 172}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 173)", "line_no": 173, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 173)", "show": true, "valid": "(literal (bool True) 173)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 173) \"balances\" 174) (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133) 174) \"balance\" 174) (literal (intOrNat 9) 174) 174)", "line_no": 174}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 175 (from_ (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 1) 175)))", "line_no": 175, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 175)", "show": true, "valid": "(literal (bool True) 175)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 175) \"totalSupply\" 177) (literal (intOrNat 17) 177) 177)", "line_no": 177}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 175) \"balances\" 178) (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133) 178) \"balance\" 178) (literal (intOrNat 8) 178) 178)", "line_no": 178}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 175) \"balances\" 178) (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134) 179) \"balance\" 179) (literal (intOrNat 9) 179) 179)", "line_no": 179}, {"action": "html", "tag": "h2", "inner": "Permit Submission", "line_no": 181}, {"action": "message", "id": 0, "message": "mint", "params": "(record 182 (address (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135)) (value (literal (intOrNat 10) 182)))", "line_no": 182, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 182)", "show": true, "valid": "(literal (bool True) 182)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 182) \"balances\" 183) (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) 183) \"balance\" 183) (literal (intOrNat 10) 183) 183)", "line_no": 183}, {"action": "message", "id": 0, "message": "add_permits", "params": "(list 190 (tuple 190 (reduce (attr (account_of_seed \"Carlos\" 135) \"public_key\" 135) 135) (tuple 190 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 135) \"secret_key\" 135) 135) (pack (tuple 188 (tuple 188 (literal (chain_id_cst \"0x9caecab9\") 188) (literal (local-address 0) 6)) (tuple 188 (attr (contractData 0 182) \"counter\" 188) (hashCrypto \"BLAKE2B\" (pack (tuple 185 (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) (tuple 185 (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134) (literal (intOrNat 10) 190))) 185) 186))) 188) \"Raw\" 189) 189) (hashCrypto \"BLAKE2B\" (pack (tuple 185 (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) (tuple 185 (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134) (literal (intOrNat 10) 190))) 185) 186))))", "line_no": 190, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 190)", "time": "(literal (timestamp 1571761674) 190)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 190)", "show": true, "valid": "(literal (bool True) 190)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 190) \"counter\" 191) (literal (intOrNat 1) 191) 191)", "line_no": 191}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 190) \"permits\" 192) (tuple 192 (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) (hashCrypto \"BLAKE2B\" (pack (tuple 185 (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) (tuple 185 (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134) (literal (intOrNat 10) 192))) 185) 186)) 192) (unknown 21) 192) 192) (pack (type_annotation (literal (timestamp 1571761674) 192) (unknown 21) 192) 192) 192)", "line_no": 192}, {"action": "html", "tag": "h2", "inner": "Execute transfer using permit", "line_no": 194}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 195 (from_ (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135)) (to_ (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)) (value (literal (intOrNat 10) 195)))", "line_no": 195, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 1571761674) 190)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 195)", "show": true, "valid": "(literal (bool True) 195)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 195) \"balances\" 196) (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) 196) \"balance\" 196) (literal (intOrNat 0) 196) 196)", "line_no": 196}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 195) \"balances\" 196) (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134) 197) \"balance\" 197) (literal (intOrNat 19) 197) 197)", "line_no": 197}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 195) \"permits\" 199) (tuple 199 (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) (pack (tuple 188 (tuple 188 (literal (chain_id_cst \"0x9caecab9\") 188) (literal (local-address 0) 6)) (tuple 188 (attr (contractData 0 182) \"counter\" 188) (hashCrypto \"BLAKE2B\" (pack (tuple 185 (reduce (attr (account_of_seed \"Carlos\" 135) \"address\" 135) 135) (tuple 185 (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134) (literal (intOrNat 10) 199))) 185) 186))) 188)) 199) 199)", "line_no": 199}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 201}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 202}, {"action": "newContract", "id": 2, "export": "(storage (record 116 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 120) (variant \"Some\" (params 119) 120) 120))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 204, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(record 205 (arg (record 205 (owner (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)))) (target (literal (local-address 2) 117)))", "line_no": 205, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 190)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 205)", "show": true, "valid": "(literal (bool True) 205)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 204) \"last\" 206) (unknown 22) 206) 206) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 206) 206) (unknown 22) 206) 206) 206)", "line_no": 206}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 208}, {"action": "newContract", "id": 4, "export": "(storage (record 116 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 120) (variant \"Some\" (params 119) 120) 120))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 210, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(record 211 (target (literal (local-address 4) 117)))", "line_no": 211, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 190)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 211)", "show": true, "valid": "(literal (bool True) 211)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 210) \"last\" 212) (unknown 23) 212) 212) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 132) \"address\" 132) 132) 212) (unknown 23) 212) 212) 212)", "line_no": 212}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 214}, {"action": "newContract", "id": 6, "export": "(storage (record 116 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 120) (variant \"Some\" (params 119) 120) 120))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 216, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(record 217 (target (literal (local-address 6) 117)))", "line_no": 217, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 190)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 217)", "show": true, "valid": "(literal (bool True) 217)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 6 216) \"last\" 218) (unknown 24) 218) 218) (pack (type_annotation (variant \"Some\" (literal (intOrNat 27) 218) 218) (unknown 24) 218) 218) 218)", "line_no": 218}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 220}, {"action": "newContract", "id": 8, "export": "(storage (record 116 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 120) (variant \"Some\" (params 119) 120) 120))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 222, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(record 223 (arg (record 223 (owner (reduce (attr (account_of_seed \"Alice\" 133) \"address\" 133) 133)) (spender (reduce (attr (account_of_seed \"Robert\" 134) \"address\" 134) 134)))) (target (literal (local-address 8) 117)))", "line_no": 223, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 190)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 223)", "show": true, "valid": "(literal (bool True) 223)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 8 222) \"last\" 224) (unknown 25) 224) 224) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 224) 224) (unknown 25) 224) 224) 224)", "line_no": 224}]}]