[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 181}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 183}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 192}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 193 (account_of_seed \"Administrator\" 186) (account_of_seed \"Alice\" 187) (account_of_seed \"Robert\" 188) (account_of_seed \"Carlos\" 189))", "line_no": 193}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 195}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 198}, {"action": "newContract", "id": 0, "export": "(storage (record 6 (administrator (reduce (attr (account_of_seed \"Administrator\" 186) \"address\" 186) 186)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 12) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 8 ((literal (string \"\") 199) (literal (bytes \"0x74657a6f732d73746f726167653a6d642d6a736f6e\") 8)) ((literal (string \"md-json\") 199) (literal (bytes \"0x7b7d\") 8)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple \"address\" \"bytes\") (option \"nat\")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple \"address\" \"bytes\") \"timestamp\") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap \"address\" (option \"nat\")) 7)))\nstorage_type (())\nmessages ((approve True ((set_type (params 105) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 106) (verify (invert (attr (data) \"paused\" 107) 107) False 107) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 108) (sender) 108) \"approvals\" 108) (attr (params 105) \"spender\" 108) (literal (intOrNat 0) 108) 108) (literal (intOrNat 0) 109) 109) (eq (attr (params 105) \"value\" 109) (literal (intOrNat 0) 109) 109) 109) False (literal (string \"UnsafeAllowanceChange\") 109) 109) (set (getItem (attr (getItem (attr (data) \"balances\" 108) (sender) 110) \"approvals\" 110) (attr (params 105) \"spender\" 108) 110) (attr (params 105) \"value\" 109) 110))) (burn True ((set_type (params 133) (record ((address \"address\") (value \"nat\")) None) 134) (verify (eq (sender) (attr (data) \"administrator\" 135) 135) False 135) (verify (ge (attr (getItem (attr (data) \"balances\" 108) (attr (params 133) \"address\" 136) 136) \"balance\" 136) (attr (params 133) \"value\" 136) 136) False 136) (set (attr (getItem (attr (data) \"balances\" 108) (attr (params 133) \"address\" 136) 137) \"balance\" 137) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 108) (attr (params 133) \"address\" 136) 137) \"balance\" 137) (attr (params 133) \"value\" 136) 137) 137) \"Some\" \"None\" 137) 137) (set (attr (data) \"totalSupply\" 138) (openVariant (isNat (sub (attr (data) \"totalSupply\" 138) (attr (params 133) \"value\" 136) 138) 138) \"Some\" \"None\" 138) 138))) (getAdministrator True ((set (operations 158) (cons (transfer (attr (data) \"administrator\" 135) (literal (mutez 0) 158) (openVariant (contract \"\" \"address\" (attr (params 157) \"target\" 158) 158) \"Some\" \"None\" 158) 158) (operations 158) 158) 158))) (getAllowance True ((set (operations 150) (cons (transfer (getItem (attr (getItem (attr (data) \"balances\" 108) (attr (attr (params 149) \"arg\" 150) \"owner\" 150) 150) \"approvals\" 150) (attr (attr (params 149) \"arg\" 150) \"spender\" 150) 150) (literal (mutez 0) 150) (openVariant (contract \"\" \"nat\" (attr (params 149) \"target\" 150) 150) \"Some\" \"None\" 150) 150) (operations 150) 150) 150))) (getBalance True ((set (operations 146) (cons (transfer (attr (getItem (attr (data) \"balances\" 108) (attr (attr (params 145) \"arg\" 146) \"owner\" 146) 146) \"balance\" 146) (literal (mutez 0) 146) (openVariant (contract \"\" \"nat\" (attr (params 145) \"target\" 146) 146) \"Some\" \"None\" 146) 146) (operations 146) 146) 146))) (getCounter True ((set (operations 162) (cons (transfer (attr (data) \"counter\" 162) (literal (mutez 0) 162) (openVariant (contract \"\" \"nat\" (attr (params 161) \"target\" 162) 162) \"Some\" \"None\" 162) 162) (operations 162) 162) 162))) (getDefaultExpiry True ((set (operations 166) (cons (transfer (attr (data) \"default_expiry\" 166) (literal (mutez 0) 166) (openVariant (contract \"\" \"nat\" (attr (params 165) \"target\" 166) 166) \"Some\" \"None\" 166) 166) (operations 166) 166) 166))) (getTotalSupply True ((set (operations 154) (cons (transfer (attr (data) \"totalSupply\" 138) (literal (mutez 0) 154) (openVariant (contract \"\" \"nat\" (attr (params 153) \"target\" 154) 154) \"Some\" \"None\" 154) 154) (operations 154) 154) 154))) (mint True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 135) 127) False 127) (ifBlock (invert (contains (attr (data) \"balances\" 108) (attr (params 125) \"address\" 128) 141) 141) ((set (getItem (attr (data) \"balances\" 108) (attr (params 125) \"address\" 128) 142) (record 142 (approvals (map 142 )) (balance (literal (intOrNat 0) 142))) 142)) 141) (set (attr (getItem (attr (data) \"balances\" 108) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (add (attr (getItem (attr (data) \"balances\" 108) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 129) 129) 129) (set (attr (data) \"totalSupply\" 138) (add (attr (data) \"totalSupply\" 138) (attr (params 125) \"value\" 129) 130) 130))) (permit True ((set_type (params 42) (list (tuple \"key\" (tuple \"signature\" \"bytes\"))) 43) (verify (invert (attr (data) \"paused\" 107) 44) False 44) (defineLocal \"params_hash\" (literal (bytes \"0x0000\") 46) 46) (defineLocal \"unsigned\" (literal (bytes \"0x0000\") 47) 47) (defineLocal \"pk_address\" (to_address (self) \"None\") 48) (forGroup \"permit\" (params 42) ((set (getLocal \"params_hash\" 199) (second (second (iter \"permit\" 49) 50) 50) 50) (set (getLocal \"unsigned\" 199) (pack (tuple 51 (tuple 51 (chain_id) (to_address (self) \"None\")) (tuple 51 (attr (data) \"counter\" 162) (getLocal \"params_hash\" 51))) 51) 51) (set (getLocal \"pk_address\" 199) (to_address (implicit_account (hash_key (first (iter \"permit\" 49) 52) 52) 52) 52) 52) (verify (invert (contains (attr (data) \"permits\" 33) (tuple 53 (getLocal \"pk_address\" 53) (getLocal \"params_hash\" 53)) 53) 53) False (tuple 53 (literal (string \"DUP_PERMIT\") 199) (getLocal \"params_hash\" 53)) 53) (verify (check_signature (first (iter \"permit\" 49) 54) (first (second (iter \"permit\" 49) 54) 54) (getLocal \"unsigned\" 54) 54) False (tuple 54 (literal (string \"MISSIGNED\") 199) (getLocal \"unsigned\" 54)) 54) (set (getItem (attr (data) \"permits\" 33) (tuple 55 (getLocal \"pk_address\" 55) (getLocal \"params_hash\" 55)) 55) (now) 55) (set (attr (data) \"counter\" 162) (add (attr (data) \"counter\" 162) (literal (intOrNat 1) 56) 56) 56)) 49))) (setAdministrator True ((set_type (params 119) \"address\" 120) (verify (eq (sender) (attr (data) \"administrator\" 135) 121) False 121) (set (attr (data) \"administrator\" 135) (params 119) 122))) (setExpiry True ((set_type (params 81) (record ((address \"address\") (permit (option \"bytes\")) (seconds \"nat\")) None) 82) (verify (eq (pack (type_annotation (attr (params 81) \"address\" 83) (unknown 19) 83) 83) (pack (type_annotation (sender) (unknown 19) 83) 83) 83) \"NOT_AUTHORIZED\" (literal (bool False) 83) 83) (ifBlock (isVariant (attr (params 81) \"permit\" 84) \"Some\" 84) ((verify (contains (attr (data) \"permits\" 33) (tuple 86 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 86) False (literal (string \"PERMIT_NONEXISTENT\") 86) 86) (ifBlock (and (contains (attr (data) \"permit_expiries\" 88) (tuple 88 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 88) (isVariant (getItem (attr (data) \"permit_expiries\" 88) (tuple 88 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 88) \"Some\" 88) 88) ((verify (gt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 33) (tuple 87 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 87) 90) 90) \"Some\" \"None\" 90) (openVariant (getItem (attr (data) \"permit_expiries\" 88) (tuple 89 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 89) \"Some\" \"None\" 89) 90) False (literal (string \"PERMIT_REVOKED\") 90) 90) (set (getItem (attr (data) \"permit_expiries\" 88) (tuple 91 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 91) (variant \"Some\" (attr (params 81) \"seconds\" 91) 91) 91)) 88) (elseBlock ((ifBlock (and (contains (attr (data) \"user_expiries\" 93) (attr (params 81) \"address\" 83) 93) (isVariant (getItem (attr (data) \"user_expiries\" 93) (attr (params 81) \"address\" 83) 93) \"Some\" 93) 93) ((verify (gt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 33) (tuple 87 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 87) 95) 95) \"Some\" \"None\" 95) (openVariant (getItem (attr (data) \"user_expiries\" 93) (attr (params 81) \"address\" 83) 94) \"Some\" \"None\" 94) 95) False (literal (string \"PERMIT_REVOKED\") 95) 95) (set (getItem (attr (data) \"permit_expiries\" 88) (tuple 96 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 96) (variant \"Some\" (attr (params 81) \"seconds\" 91) 96) 96)) 93) (elseBlock ((verify (gt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 33) (tuple 87 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 87) 98) 98) \"Some\" \"None\" 98) (attr (data) \"default_expiry\" 166) 98) False (literal (string \"PERMIT_REVOKED\") 98) 98) (set (getItem (attr (data) \"permit_expiries\" 88) (tuple 99 (attr (params 81) \"address\" 83) (openVariant (attr (params 81) \"permit\" 84) \"Some\" \"None\" 85)) 99) (variant \"Some\" (attr (params 81) \"seconds\" 91) 99) 99)))))) 84) (elseBlock ((set (getItem (attr (data) \"user_expiries\" 93) (attr (params 81) \"address\" 83) 102) (variant \"Some\" (attr (params 81) \"seconds\" 91) 102) 102))))) (setPause True ((set_type (params 113) \"bool\" 114) (verify (eq (sender) (attr (data) \"administrator\" 135) 115) False 115) (set (attr (data) \"paused\" 107) (params 113) 116))) (transfer True ((set_type (params 11) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 12) (defineLocal \"sender\" (sender) 13) (defineLocal \"y4\" (call_lambda (global \"transfer_presigned\" 199) (record 14 (in_param (params 11)) (in_storage (data))) 14) 14) (set (data) (attr (getLocal \"y4\" 14) \"storage\" 14) 14) (forGroup \"op\" (attr (getLocal \"y4\" 14) \"operations\" 14) ((set (operations 14) (cons (iter \"op\" 14) (operations 14) 14) 14)) 14) (ifBlock (attr (getLocal \"y4\" 14) \"result\" 14) ((set (getLocal \"sender\" 199) (attr (params 11) \"from_\" 15) 15)) 14) (verify (or (eq (getLocal \"sender\" 16) (attr (data) \"administrator\" 135) 16) (and (invert (attr (data) \"paused\" 107) 17) (or (eq (attr (params 11) \"from_\" 15) (getLocal \"sender\" 18) 18) (ge (getItem (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"from_\" 15) 19) \"approvals\" 19) (getLocal \"sender\" 19) 19) (attr (params 11) \"value\" 19) 19) 18) 17) 16) False 16) (ifBlock (invert (contains (attr (data) \"balances\" 108) (attr (params 11) \"to_\" 20) 141) 141) ((set (getItem (attr (data) \"balances\" 108) (attr (params 11) \"to_\" 20) 142) (record 142 (approvals (map 142 )) (balance (literal (intOrNat 0) 142))) 142)) 141) (verify (ge (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"from_\" 15) 21) \"balance\" 21) (attr (params 11) \"value\" 19) 21) False 21) (set (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"from_\" 15) 22) \"balance\" 22) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"from_\" 15) 22) \"balance\" 22) (attr (params 11) \"value\" 19) 22) 22) \"Some\" \"None\" 22) 22) (set (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"to_\" 20) 23) \"balance\" 23) (add (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"to_\" 20) 23) \"balance\" 23) (attr (params 11) \"value\" 19) 23) 23) (ifBlock (and (neq (attr (params 11) \"from_\" 15) (getLocal \"sender\" 24) 24) (neq (attr (data) \"administrator\" 135) (getLocal \"sender\" 24) 24) 24) ((set (getItem (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"from_\" 15) 25) \"approvals\" 25) (getLocal \"sender\" 25) 25) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 108) (attr (params 11) \"from_\" 15) 25) \"approvals\" 25) (getLocal \"sender\" 25) 25) (attr (params 11) \"value\" 19) 25) 25) \"Some\" \"None\" 25) 25)) 24))))\nflags ()\nglobals ((transfer_presigned (lambda 0 \"\" 199 ((defineLocal \"__operations__\" (type_annotation (list 199 ) (list \"operation\") 199) 199) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 0 \"\" 199 (unknown 13)) \"in_storage\" 199) (unknown 14) 199) 199) (seq \"__s3\" ((set_type (attr (lambdaParams 0 \"\" 199 (unknown 13)) \"in_param\" 199) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 30) (ifBlock (contains (attr (data) \"permits\" 33) (tuple 33 (attr (attr (lambdaParams 0 \"\" 199 (unknown 13)) \"in_param\" 199) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 199 (unknown 13)) \"in_param\" 199) 31) 31)) 33) ((delItem (attr (data) \"permits\" 33) (tuple 35 (attr (attr (lambdaParams 0 \"\" 199 (unknown 13)) \"in_param\" 199) \"from_\" 33) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 199 (unknown 13)) \"in_param\" 199) 31) 31)) 35) (result (literal (bool True) 37) 37)) 33) (elseBlock ((result (literal (bool False) 39) 39)))) 199) (bind \"__s3\" ((result (record 199 (operations (getLocal \"__operations__\" 199)) (result (getLocal \"__s3\" 199)) (storage (getLocal \"__storage__\" 199))) 199)) 199)))))\nentry_points_layout ()\nbalance ())", "line_no": 199, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 200}, {"action": "message", "id": 0, "message": "mint", "params": "(record 201 (address (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (value (literal (intOrNat 12) 201)))", "line_no": 201, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 201)", "show": true, "valid": "(literal (bool True) 201)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 202 (address (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (value (literal (intOrNat 3) 202)))", "line_no": 202, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 202)", "show": true, "valid": "(literal (bool True) 202)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 203 (address (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (value (literal (intOrNat 3) 203)))", "line_no": 203, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 203)", "show": true, "valid": "(literal (bool True) 203)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 203) \"balances\" 204) (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187) 204) \"balance\" 204) (literal (intOrNat 18) 204) 204)", "line_no": 204}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 205}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 206 (from_ (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 4) 206)))", "line_no": 206, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 206)", "show": true, "valid": "(literal (bool True) 206)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 206) \"balances\" 207) (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187) 207) \"balance\" 207) (literal (intOrNat 14) 207) 207)", "line_no": 207}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 208}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 209 (from_ (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 4) 209)))", "line_no": 209, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 209)", "show": true, "valid": "(literal (bool False) 209)"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 210}, {"action": "message", "id": 0, "message": "approve", "params": "(record 211 (spender (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 5) 211)))", "line_no": 211, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 211)", "show": true, "valid": "(literal (bool True) 211)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 212 (from_ (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 4) 212)))", "line_no": 212, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 212)", "show": true, "valid": "(literal (bool True) 212)"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 213}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 214 (from_ (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 4) 214)))", "line_no": 214, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 214)", "show": true, "valid": "(literal (bool False) 214)"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 215}, {"action": "message", "id": 0, "message": "burn", "params": "(record 216 (address (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 1) 216)))", "line_no": 216, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 216)", "show": true, "valid": "(literal (bool True) 216)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 216) \"balances\" 217) (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187) 217) \"balance\" 217) (literal (intOrNat 10) 217) 217)", "line_no": 217}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 218}, {"action": "message", "id": 0, "message": "burn", "params": "(record 219 (address (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 1) 219)))", "line_no": 219, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 219)", "show": true, "valid": "(literal (bool False) 219)"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 220}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 221)", "line_no": 221, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 221)", "show": true, "valid": "(literal (bool True) 221)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 222 (from_ (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 4) 222)))", "line_no": 222, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 222)", "show": true, "valid": "(literal (bool False) 222)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 222) \"balances\" 223) (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187) 223) \"balance\" 223) (literal (intOrNat 10) 223) 223)", "line_no": 223}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 224}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 225 (from_ (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 1) 225)))", "line_no": 225, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 225)", "show": true, "valid": "(literal (bool True) 225)"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 226}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 227)", "line_no": 227, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 227)", "show": true, "valid": "(literal (bool True) 227)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 227) \"balances\" 228) (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187) 228) \"balance\" 228) (literal (intOrNat 9) 228) 228)", "line_no": 228}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 229 (from_ (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 1) 229)))", "line_no": 229, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 229)", "show": true, "valid": "(literal (bool True) 229)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 229) \"totalSupply\" 231) (literal (intOrNat 17) 231) 231)", "line_no": 231}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 229) \"balances\" 232) (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187) 232) \"balance\" 232) (literal (intOrNat 8) 232) 232)", "line_no": 232}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 229) \"balances\" 232) (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188) 233) \"balance\" 233) (literal (intOrNat 9) 233) 233)", "line_no": 233}, {"action": "html", "tag": "h2", "inner": "Permit Submission", "line_no": 235}, {"action": "message", "id": 0, "message": "mint", "params": "(record 236 (address (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189)) (value (literal (intOrNat 10) 236)))", "line_no": 236, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 236)", "show": true, "valid": "(literal (bool True) 236)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 236) \"balances\" 237) (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) 237) \"balance\" 237) (literal (intOrNat 10) 237) 237)", "line_no": 237}, {"action": "message", "id": 0, "message": "permit", "params": "(list 244 (tuple 244 (reduce (attr (account_of_seed \"Carlos\" 189) \"public_key\" 189) 189) (tuple 244 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 189) \"secret_key\" 189) 189) (pack (tuple 242 (tuple 242 (literal (chain_id_cst \"0x9caecab9\") 242) (literal (local-address 0) 6)) (tuple 242 (attr (contractData 0 236) \"counter\" 242) (hashCrypto \"BLAKE2B\" (pack (tuple 239 (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) (tuple 239 (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188) (literal (intOrNat 10) 244))) 239) 240))) 242) \"Raw\" 243) 243) (hashCrypto \"BLAKE2B\" (pack (tuple 239 (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) (tuple 239 (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188) (literal (intOrNat 10) 244))) 239) 240))))", "line_no": 244, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 244)", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 244)", "show": true, "valid": "(literal (bool True) 244)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 244) \"counter\" 245) (literal (intOrNat 1) 245) 245)", "line_no": 245}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 244) \"permits\" 246) (tuple 246 (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) (hashCrypto \"BLAKE2B\" (pack (tuple 239 (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) (tuple 239 (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188) (literal (intOrNat 10) 246))) 239) 240)) 246) (unknown 23) 246) 246) (pack (type_annotation (literal (timestamp 1571761674) 246) (unknown 23) 246) 246) 246)", "line_no": 246}, {"action": "html", "tag": "h2", "inner": "Execute transfer using permit", "line_no": 248}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 249 (from_ (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189)) (to_ (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)) (value (literal (intOrNat 10) 249)))", "line_no": 249, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 249)", "show": true, "valid": "(literal (bool True) 249)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 249) \"balances\" 250) (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) 250) \"balance\" 250) (literal (intOrNat 0) 250) 250)", "line_no": 250}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 249) \"balances\" 250) (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188) 251) \"balance\" 251) (literal (intOrNat 19) 251) 251)", "line_no": 251}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 249) \"permits\" 253) (tuple 253 (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) (pack (tuple 242 (tuple 242 (literal (chain_id_cst \"0x9caecab9\") 242) (literal (local-address 0) 6)) (tuple 242 (attr (contractData 0 236) \"counter\" 242) (hashCrypto \"BLAKE2B\" (pack (tuple 239 (reduce (attr (account_of_seed \"Carlos\" 189) \"address\" 189) 189) (tuple 239 (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188) (literal (intOrNat 10) 253))) 239) 240))) 242)) 253) 253)", "line_no": 253}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 255}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 256}, {"action": "newContract", "id": 2, "export": "(storage (record 170 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 174) (variant \"Some\" (params 173) 174) 174))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 258, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(record 259 (arg (record 259 (owner (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)))) (target (literal (local-address 2) 171)))", "line_no": 259, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 259)", "show": true, "valid": "(literal (bool True) 259)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 258) \"last\" 260) (unknown 24) 260) 260) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 260) 260) (unknown 24) 260) 260) 260)", "line_no": 260}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 262}, {"action": "newContract", "id": 4, "export": "(storage (record 170 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 174) (variant \"Some\" (params 173) 174) 174))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 264, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(record 265 (target (literal (local-address 4) 171)))", "line_no": 265, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 265)", "show": true, "valid": "(literal (bool True) 265)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 264) \"last\" 266) (unknown 25) 266) 266) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 186) \"address\" 186) 186) 266) (unknown 25) 266) 266) 266)", "line_no": 266}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 268}, {"action": "newContract", "id": 6, "export": "(storage (record 170 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 174) (variant \"Some\" (params 173) 174) 174))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 270, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(record 271 (target (literal (local-address 6) 171)))", "line_no": 271, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 271)", "show": true, "valid": "(literal (bool True) 271)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 6 270) \"last\" 272) (unknown 26) 272) 272) (pack (type_annotation (variant \"Some\" (literal (intOrNat 27) 272) 272) (unknown 26) 272) 272) 272)", "line_no": 272}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 274}, {"action": "newContract", "id": 8, "export": "(storage (record 170 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 174) (variant \"Some\" (params 173) 174) 174))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 276, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(record 277 (arg (record 277 (owner (reduce (attr (account_of_seed \"Alice\" 187) \"address\" 187) 187)) (spender (reduce (attr (account_of_seed \"Robert\" 188) \"address\" 188) 188)))) (target (literal (local-address 8) 171)))", "line_no": 277, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 277)", "show": true, "valid": "(literal (bool True) 277)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 8 276) \"last\" 278) (unknown 27) 278) 278) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 278) 278) (unknown 27) 278) 278) 278)", "line_no": 278}, {"action": "html", "tag": "h2", "inner": "Counter", "line_no": 280}, {"action": "newContract", "id": 10, "export": "(storage (record 170 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 174) (variant \"Some\" (params 173) 174) 174))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 282, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getCounter", "params": "(record 283 (target (literal (local-address 10) 171)))", "line_no": 283, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 283)", "show": true, "valid": "(literal (bool True) 283)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 10 282) \"last\" 284) (unknown 28) 284) 284) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 284) 284) (unknown 28) 284) 284) 284)", "line_no": 284}, {"action": "html", "tag": "h2", "inner": "Default Expiry", "line_no": 286}, {"action": "newContract", "id": 12, "export": "(storage (record 170 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 174) (variant \"Some\" (params 173) 174) 174))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 288, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getDefaultExpiry", "params": "(record 289 (target (literal (local-address 12) 171)))", "line_no": 289, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 244)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 289)", "show": true, "valid": "(literal (bool True) 289)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 12 288) \"last\" 290) (unknown 29) 290) 290) (pack (type_annotation (variant \"Some\" (literal (intOrNat 360) 290) 290) (unknown 29) 290) 290) 290)", "line_no": 290}]}]