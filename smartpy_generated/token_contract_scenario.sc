[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 191}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 193}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 202}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 203 (account_of_seed \"Administrator\" 196) (account_of_seed \"Alice\" 197) (account_of_seed \"Robert\" 198) (account_of_seed \"Carlos\" 199))", "line_no": 203}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 205}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 208}, {"action": "newContract", "id": 0, "export": "(storage (record 6 (administrator (reduce (attr (account_of_seed \"Administrator\" 196) \"address\" 196) 196)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 13) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 9 ((literal (string \"\") 209) (literal (bytes \"0x74657a6f732d73746f726167653a6d642d6a736f6e\") 9)) ((literal (string \"md-json\") 209) (literal (bytes \"0x7b7d\") 9)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple \"address\" \"bytes\") (option \"nat\")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple \"address\" \"bytes\") \"timestamp\") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap \"address\" (option \"nat\")) 7)))\nstorage_type (())\nmessages ((approve True ((set_type (params 115) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 116) (verify (invert (attr (data) \"paused\" 117) 117) False 117) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 118) (sender) 118) \"approvals\" 118) (attr (params 115) \"spender\" 118) (literal (intOrNat 0) 118) 118) (literal (intOrNat 0) 119) 119) (eq (attr (params 115) \"value\" 119) (literal (intOrNat 0) 119) 119) 119) False (literal (string \"UnsafeAllowanceChange\") 119) 119) (set (getItem (attr (getItem (attr (data) \"balances\" 118) (sender) 120) \"approvals\" 120) (attr (params 115) \"spender\" 118) 120) (attr (params 115) \"value\" 119) 120))) (burn True ((set_type (params 143) (record ((address \"address\") (value \"nat\")) None) 144) (verify (eq (sender) (attr (data) \"administrator\" 145) 145) False 145) (verify (ge (attr (getItem (attr (data) \"balances\" 118) (attr (params 143) \"address\" 146) 146) \"balance\" 146) (attr (params 143) \"value\" 146) 146) False 146) (set (attr (getItem (attr (data) \"balances\" 118) (attr (params 143) \"address\" 146) 147) \"balance\" 147) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 118) (attr (params 143) \"address\" 146) 147) \"balance\" 147) (attr (params 143) \"value\" 146) 147) 147) \"Some\" \"None\" 147) 147) (set (attr (data) \"totalSupply\" 148) (openVariant (isNat (sub (attr (data) \"totalSupply\" 148) (attr (params 143) \"value\" 146) 148) 148) \"Some\" \"None\" 148) 148))) (getAdministrator True ((set (operations 168) (cons (transfer (attr (data) \"administrator\" 145) (literal (mutez 0) 168) (openVariant (contract \"\" \"address\" (attr (params 167) \"target\" 168) 168) \"Some\" \"None\" 168) 168) (operations 168) 168) 168))) (getAllowance True ((set (operations 160) (cons (transfer (getItem (attr (getItem (attr (data) \"balances\" 118) (attr (attr (params 159) \"arg\" 160) \"owner\" 160) 160) \"approvals\" 160) (attr (attr (params 159) \"arg\" 160) \"spender\" 160) 160) (literal (mutez 0) 160) (openVariant (contract \"\" \"nat\" (attr (params 159) \"target\" 160) 160) \"Some\" \"None\" 160) 160) (operations 160) 160) 160))) (getBalance True ((set (operations 156) (cons (transfer (attr (getItem (attr (data) \"balances\" 118) (attr (attr (params 155) \"arg\" 156) \"owner\" 156) 156) \"balance\" 156) (literal (mutez 0) 156) (openVariant (contract \"\" \"nat\" (attr (params 155) \"target\" 156) 156) \"Some\" \"None\" 156) 156) (operations 156) 156) 156))) (getCounter True ((set (operations 172) (cons (transfer (attr (data) \"counter\" 172) (literal (mutez 0) 172) (openVariant (contract \"\" \"nat\" (attr (params 171) \"target\" 172) 172) \"Some\" \"None\" 172) 172) (operations 172) 172) 172))) (getDefaultExpiry True ((set (operations 176) (cons (transfer (attr (data) \"default_expiry\" 60) (literal (mutez 0) 176) (openVariant (contract \"\" \"nat\" (attr (params 175) \"target\" 176) 176) \"Some\" \"None\" 176) 176) (operations 176) 176) 176))) (getTotalSupply True ((set (operations 164) (cons (transfer (attr (data) \"totalSupply\" 148) (literal (mutez 0) 164) (openVariant (contract \"\" \"nat\" (attr (params 163) \"target\" 164) 164) \"Some\" \"None\" 164) 164) (operations 164) 164) 164))) (mint True ((set_type (params 135) (record ((address \"address\") (value \"nat\")) None) 136) (verify (eq (sender) (attr (data) \"administrator\" 145) 137) False 137) (ifBlock (invert (contains (attr (data) \"balances\" 118) (attr (params 135) \"address\" 138) 151) 151) ((set (getItem (attr (data) \"balances\" 118) (attr (params 135) \"address\" 138) 152) (record 152 (approvals (map 152 )) (balance (literal (intOrNat 0) 152))) 152)) 151) (set (attr (getItem (attr (data) \"balances\" 118) (attr (params 135) \"address\" 138) 139) \"balance\" 139) (add (attr (getItem (attr (data) \"balances\" 118) (attr (params 135) \"address\" 138) 139) \"balance\" 139) (attr (params 135) \"value\" 139) 139) 139) (set (attr (data) \"totalSupply\" 148) (add (attr (data) \"totalSupply\" 148) (attr (params 135) \"value\" 139) 140) 140))) (permit True ((set_type (params 74) (list (tuple \"key\" (tuple \"signature\" \"bytes\"))) 75) (verify (invert (attr (data) \"paused\" 117) 76) False 76) (defineLocal \"params_hash\" (literal (bytes \"0x0000\") 78) 78) (defineLocal \"unsigned\" (literal (bytes \"0x0000\") 79) 79) (defineLocal \"pk_address\" (to_address (self) \"None\") 80) (forGroup \"permit\" (params 74) ((set (getLocal \"params_hash\" 209) (second (second (iter \"permit\" 81) 82) 82) 82) (set (getLocal \"unsigned\" 209) (pack (tuple 83 (tuple 83 (chain_id) (to_address (self) \"None\")) (tuple 83 (attr (data) \"counter\" 172) (getLocal \"params_hash\" 83))) 83) 83) (set (getLocal \"pk_address\" 209) (to_address (implicit_account (hash_key (first (iter \"permit\" 81) 84) 84) 84) 84) 84) (verify (invert (contains (attr (data) \"permits\" 51) (tuple 85 (getLocal \"pk_address\" 85) (getLocal \"params_hash\" 85)) 85) 85) False (tuple 85 (literal (string \"DUP_PERMIT\") 209) (getLocal \"params_hash\" 85)) 85) (verify (check_signature (first (iter \"permit\" 81) 86) (first (second (iter \"permit\" 81) 86) 86) (getLocal \"unsigned\" 86) 86) False (tuple 86 (literal (string \"MISSIGNED\") 209) (getLocal \"unsigned\" 86)) 86) (set (getItem (attr (data) \"permits\" 51) (tuple 87 (getLocal \"pk_address\" 87) (getLocal \"params_hash\" 87)) 87) (now) 87) (set (attr (data) \"counter\" 172) (add (attr (data) \"counter\" 172) (literal (intOrNat 1) 88) 88) 88)) 81))) (setAdministrator True ((set_type (params 129) \"address\" 130) (verify (eq (sender) (attr (data) \"administrator\" 145) 131) False 131) (set (attr (data) \"administrator\" 145) (params 129) 132))) (setExpiry True ((set_type (params 91) (record ((address \"address\") (permit (option \"bytes\")) (seconds \"nat\")) None) 92) (verify (eq (pack (type_annotation (attr (params 91) \"address\" 93) (unknown 21) 93) 93) (pack (type_annotation (sender) (unknown 21) 93) 93) 93) \"NOT_AUTHORIZED\" (literal (bool False) 93) 93) (ifBlock (isVariant (attr (params 91) \"permit\" 94) \"Some\" 94) ((verify (contains (attr (data) \"permits\" 51) (tuple 96 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 96) False (literal (string \"PERMIT_NONEXISTENT\") 96) 96) (ifBlock (and (contains (attr (data) \"permit_expiries\" 54) (tuple 98 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 98) (isVariant (getItem (attr (data) \"permit_expiries\" 54) (tuple 98 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 98) \"Some\" 98) 98) ((verify (gt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 51) (tuple 97 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 97) 100) 100) \"Some\" \"None\" 100) (openVariant (getItem (attr (data) \"permit_expiries\" 54) (tuple 99 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 99) \"Some\" \"None\" 99) 100) False (literal (string \"PERMIT_REVOKED\") 100) 100) (set (getItem (attr (data) \"permit_expiries\" 54) (tuple 101 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 101) (variant \"Some\" (attr (params 91) \"seconds\" 101) 101) 101)) 98) (elseBlock ((ifBlock (and (contains (attr (data) \"user_expiries\" 57) (attr (params 91) \"address\" 93) 103) (isVariant (getItem (attr (data) \"user_expiries\" 57) (attr (params 91) \"address\" 93) 103) \"Some\" 103) 103) ((verify (gt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 51) (tuple 97 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 97) 105) 105) \"Some\" \"None\" 105) (openVariant (getItem (attr (data) \"user_expiries\" 57) (attr (params 91) \"address\" 93) 104) \"Some\" \"None\" 104) 105) False (literal (string \"PERMIT_REVOKED\") 105) 105) (set (getItem (attr (data) \"permit_expiries\" 54) (tuple 106 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 106) (variant \"Some\" (attr (params 91) \"seconds\" 101) 106) 106)) 103) (elseBlock ((verify (gt (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 51) (tuple 97 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 97) 108) 108) \"Some\" \"None\" 108) (attr (data) \"default_expiry\" 60) 108) False (literal (string \"PERMIT_REVOKED\") 108) 108) (set (getItem (attr (data) \"permit_expiries\" 54) (tuple 109 (attr (params 91) \"address\" 93) (openVariant (attr (params 91) \"permit\" 94) \"Some\" \"None\" 95)) 109) (variant \"Some\" (attr (params 91) \"seconds\" 101) 109) 109)))))) 94) (elseBlock ((set (getItem (attr (data) \"user_expiries\" 57) (attr (params 91) \"address\" 93) 112) (variant \"Some\" (attr (params 91) \"seconds\" 101) 112) 112))))) (setPause True ((set_type (params 123) \"bool\" 124) (verify (eq (sender) (attr (data) \"administrator\" 145) 125) False 125) (set (attr (data) \"paused\" 117) (params 123) 126))) (transfer True ((set_type (params 12) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 13) (defineLocal \"sender\" (sender) 14) (defineLocal \"y4\" (call_lambda (global \"transfer_presigned\" 209) (record 15 (in_param (params 12)) (in_storage (data))) 15) 15) (set (data) (attr (getLocal \"y4\" 15) \"storage\" 15) 15) (forGroup \"op\" (attr (getLocal \"y4\" 15) \"operations\" 15) ((set (operations 15) (cons (iter \"op\" 15) (operations 15) 15) 15)) 15) (ifBlock (attr (getLocal \"y4\" 15) \"result\" 15) ((set (getLocal \"sender\" 209) (attr (params 12) \"from_\" 17) 17)) 15) (verify (or (eq (getLocal \"sender\" 18) (attr (data) \"administrator\" 145) 18) (and (invert (attr (data) \"paused\" 117) 19) (or (eq (attr (params 12) \"from_\" 17) (getLocal \"sender\" 20) 20) (ge (getItem (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"from_\" 17) 21) \"approvals\" 21) (getLocal \"sender\" 21) 21) (attr (params 12) \"value\" 21) 21) 20) 19) 18) False 18) (ifBlock (invert (contains (attr (data) \"balances\" 118) (attr (params 12) \"to_\" 22) 151) 151) ((set (getItem (attr (data) \"balances\" 118) (attr (params 12) \"to_\" 22) 152) (record 152 (approvals (map 152 )) (balance (literal (intOrNat 0) 152))) 152)) 151) (verify (ge (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"from_\" 17) 23) \"balance\" 23) (attr (params 12) \"value\" 21) 23) False 23) (set (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"from_\" 17) 24) \"balance\" 24) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"from_\" 17) 24) \"balance\" 24) (attr (params 12) \"value\" 21) 24) 24) \"Some\" \"None\" 24) 24) (set (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"to_\" 22) 25) \"balance\" 25) (add (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"to_\" 22) 25) \"balance\" 25) (attr (params 12) \"value\" 21) 25) 25) (ifBlock (and (neq (attr (params 12) \"from_\" 17) (getLocal \"sender\" 26) 26) (neq (attr (data) \"administrator\" 145) (getLocal \"sender\" 26) 26) 26) ((set (getItem (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"from_\" 17) 27) \"approvals\" 27) (getLocal \"sender\" 27) 27) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 118) (attr (params 12) \"from_\" 17) 27) \"approvals\" 27) (getLocal \"sender\" 27) 27) (attr (params 12) \"value\" 21) 27) 27) \"Some\" \"None\" 27) 27)) 26))))\nflags ()\nglobals ((transfer_presigned (lambda 0 \"\" 209 ((defineLocal \"__operations__\" (type_annotation (list 209 ) (list \"operation\") 209) 209) (defineLocal \"__storage__\" (type_annotation (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_storage\" 209) (unknown 15) 209) 209) (seq \"__s3\" ((set_type (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) 47) (ifBlock (contains (attr (data) \"permits\" 51) (tuple 50 (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) 48) 48)) 51) ((defineLocal \"effective_expiry\" (literal (intOrNat 0) 53) 53) (ifBlock (and (contains (attr (data) \"permit_expiries\" 54) (tuple 50 (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) 48) 48)) 54) (isVariant (getItem (attr (data) \"permit_expiries\" 54) (tuple 50 (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) 48) 48)) 54) \"Some\" 54) 54) ((set (getLocal \"effective_expiry\" 209) (openVariant (getItem (attr (data) \"permit_expiries\" 54) (tuple 50 (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) 48) 48)) 55) \"Some\" \"None\" 55) 55)) 54) (elseBlock ((ifBlock (and (contains (attr (data) \"user_expiries\" 57) (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) 57) (isVariant (getItem (attr (data) \"user_expiries\" 57) (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) 57) \"Some\" 57) 57) ((set (getLocal \"effective_expiry\" 209) (openVariant (getItem (attr (data) \"user_expiries\" 57) (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) 58) \"Some\" \"None\" 58) 58)) 57) (elseBlock ((set (getLocal \"effective_expiry\" 209) (attr (data) \"default_expiry\" 60) 60))))) (ifBlock (ge (openVariant (isNat (sub (now) (getItem (attr (data) \"permits\" 51) (tuple 50 (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) 48) 48)) 52) 63) 63) \"Some\" \"None\" 63) (getLocal \"effective_expiry\" 63) 63) ((delItem (attr (data) \"permits\" 51) (tuple 65 (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) 48) 48)) 65) (result (literal (bool False) 66) 66)) 63) (elseBlock ((delItem (attr (data) \"permits\" 51) (tuple 68 (attr (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) \"from_\" 50) (hashCrypto \"BLAKE2B\" (pack (attr (lambdaParams 0 \"\" 209 (unknown 14)) \"in_param\" 209) 48) 48)) 68) (result (literal (bool True) 69) 69)))) 51) (elseBlock ((result (literal (bool False) 71) 71)))) 209) (bind \"__s3\" ((result (record 209 (operations (getLocal \"__operations__\" 209)) (result (getLocal \"__s3\" 209)) (storage (getLocal \"__storage__\" 209))) 209)) 209)))))\nentry_points_layout ()\nbalance ())", "line_no": 209, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 210}, {"action": "message", "id": 0, "message": "mint", "params": "(record 211 (address (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (value (literal (intOrNat 12) 211)))", "line_no": 211, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 211)", "show": true, "valid": "(literal (bool True) 211)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 212 (address (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (value (literal (intOrNat 3) 212)))", "line_no": 212, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 212)", "show": true, "valid": "(literal (bool True) 212)"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 213 (address (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (value (literal (intOrNat 3) 213)))", "line_no": 213, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 213)", "show": true, "valid": "(literal (bool True) 213)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 213) \"balances\" 214) (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197) 214) \"balance\" 214) (literal (intOrNat 18) 214) 214)", "line_no": 214}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 215}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 216 (from_ (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 4) 216)))", "line_no": 216, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 216)", "show": true, "valid": "(literal (bool True) 216)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 216) \"balances\" 217) (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197) 217) \"balance\" 217) (literal (intOrNat 14) 217) 217)", "line_no": 217}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 218}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 219 (from_ (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 4) 219)))", "line_no": 219, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 219)", "show": true, "valid": "(literal (bool False) 219)"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 220}, {"action": "message", "id": 0, "message": "approve", "params": "(record 221 (spender (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 5) 221)))", "line_no": 221, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 221)", "show": true, "valid": "(literal (bool True) 221)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 222 (from_ (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 4) 222)))", "line_no": 222, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 222)", "show": true, "valid": "(literal (bool True) 222)"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 223}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 224 (from_ (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 4) 224)))", "line_no": 224, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 224)", "show": true, "valid": "(literal (bool False) 224)"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 225}, {"action": "message", "id": 0, "message": "burn", "params": "(record 226 (address (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 1) 226)))", "line_no": 226, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 226)", "show": true, "valid": "(literal (bool True) 226)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 226) \"balances\" 227) (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197) 227) \"balance\" 227) (literal (intOrNat 10) 227) 227)", "line_no": 227}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 228}, {"action": "message", "id": 0, "message": "burn", "params": "(record 229 (address (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 1) 229)))", "line_no": 229, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 229)", "show": true, "valid": "(literal (bool False) 229)"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 230}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 231)", "line_no": 231, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 231)", "show": true, "valid": "(literal (bool True) 231)"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 232 (from_ (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 4) 232)))", "line_no": 232, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 232)", "show": true, "valid": "(literal (bool False) 232)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 232) \"balances\" 233) (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197) 233) \"balance\" 233) (literal (intOrNat 10) 233) 233)", "line_no": 233}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 234}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 235 (from_ (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 1) 235)))", "line_no": 235, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 235)", "show": true, "valid": "(literal (bool True) 235)"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 236}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 237)", "line_no": 237, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 237)", "show": true, "valid": "(literal (bool True) 237)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 237) \"balances\" 238) (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197) 238) \"balance\" 238) (literal (intOrNat 9) 238) 238)", "line_no": 238}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 239 (from_ (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 1) 239)))", "line_no": 239, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 239)", "show": true, "valid": "(literal (bool True) 239)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 239) \"totalSupply\" 241) (literal (intOrNat 17) 241) 241)", "line_no": 241}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 239) \"balances\" 242) (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197) 242) \"balance\" 242) (literal (intOrNat 8) 242) 242)", "line_no": 242}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 239) \"balances\" 242) (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198) 243) \"balance\" 243) (literal (intOrNat 9) 243) 243)", "line_no": 243}, {"action": "html", "tag": "h2", "inner": "Permit Submission", "line_no": 245}, {"action": "message", "id": 0, "message": "mint", "params": "(record 246 (address (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199)) (value (literal (intOrNat 10) 246)))", "line_no": 246, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 6)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 246)", "show": true, "valid": "(literal (bool True) 246)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 246) \"balances\" 247) (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) 247) \"balance\" 247) (literal (intOrNat 10) 247) 247)", "line_no": 247}, {"action": "message", "id": 0, "message": "permit", "params": "(list 254 (tuple 254 (reduce (attr (account_of_seed \"Carlos\" 199) \"public_key\" 199) 199) (tuple 254 (reduce (make_signature (reduce (attr (account_of_seed \"Carlos\" 199) \"secret_key\" 199) 199) (pack (tuple 252 (tuple 252 (literal (chain_id_cst \"0x9caecab9\") 252) (literal (local-address 0) 6)) (tuple 252 (attr (contractData 0 246) \"counter\" 252) (hashCrypto \"BLAKE2B\" (pack (tuple 249 (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) (tuple 249 (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198) (literal (intOrNat 10) 254))) 249) 250))) 252) \"Raw\" 253) 253) (hashCrypto \"BLAKE2B\" (pack (tuple 249 (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) (tuple 249 (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198) (literal (intOrNat 10) 254))) 249) 250))))", "line_no": 254, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "(literal (chain_id_cst \"0x9caecab9\") 254)", "time": "(literal (timestamp 1571761674) 254)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 254)", "show": true, "valid": "(literal (bool True) 254)"}, {"action": "verify", "condition": "(eq (attr (contractData 0 254) \"counter\" 255) (literal (intOrNat 1) 255) 255)", "line_no": 255}, {"action": "verify", "condition": "(eq (pack (type_annotation (getItem (attr (contractData 0 254) \"permits\" 256) (tuple 256 (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) (hashCrypto \"BLAKE2B\" (pack (tuple 249 (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) (tuple 249 (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198) (literal (intOrNat 10) 256))) 249) 250)) 256) (unknown 25) 256) 256) (pack (type_annotation (literal (timestamp 1571761674) 256) (unknown 25) 256) 256) 256)", "line_no": 256}, {"action": "html", "tag": "h2", "inner": "Execute transfer using permit", "line_no": 258}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 259 (from_ (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199)) (to_ (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)) (value (literal (intOrNat 10) 259)))", "line_no": 259, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 1571761674) 259)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 259)", "show": true, "valid": "(literal (bool True) 259)"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 259) \"balances\" 260) (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) 260) \"balance\" 260) (literal (intOrNat 0) 260) 260)", "line_no": 260}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 259) \"balances\" 260) (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198) 261) \"balance\" 261) (literal (intOrNat 19) 261) 261)", "line_no": 261}, {"action": "verify", "condition": "(invert (contains (attr (contractData 0 259) \"permits\" 263) (tuple 263 (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) (pack (tuple 252 (tuple 252 (literal (chain_id_cst \"0x9caecab9\") 252) (literal (local-address 0) 6)) (tuple 252 (attr (contractData 0 246) \"counter\" 252) (hashCrypto \"BLAKE2B\" (pack (tuple 249 (reduce (attr (account_of_seed \"Carlos\" 199) \"address\" 199) 199) (tuple 249 (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198) (literal (intOrNat 10) 263))) 249) 250))) 252)) 263) 263)", "line_no": 263}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 265}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 266}, {"action": "newContract", "id": 2, "export": "(storage (record 180 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 184) (variant \"Some\" (params 183) 184) 184))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 268, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(record 269 (arg (record 269 (owner (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)))) (target (literal (local-address 2) 181)))", "line_no": 269, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 259)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 269)", "show": true, "valid": "(literal (bool True) 269)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 268) \"last\" 270) (unknown 26) 270) 270) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 270) 270) (unknown 26) 270) 270) 270)", "line_no": 270}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 272}, {"action": "newContract", "id": 4, "export": "(storage (record 180 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 184) (variant \"Some\" (params 183) 184) 184))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 274, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(record 275 (target (literal (local-address 4) 181)))", "line_no": 275, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 259)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 275)", "show": true, "valid": "(literal (bool True) 275)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 274) \"last\" 276) (unknown 27) 276) 276) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 196) \"address\" 196) 196) 276) (unknown 27) 276) 276) 276)", "line_no": 276}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 278}, {"action": "newContract", "id": 6, "export": "(storage (record 180 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 184) (variant \"Some\" (params 183) 184) 184))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 280, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(record 281 (target (literal (local-address 6) 181)))", "line_no": 281, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 259)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 281)", "show": true, "valid": "(literal (bool True) 281)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 6 280) \"last\" 282) (unknown 28) 282) 282) (pack (type_annotation (variant \"Some\" (literal (intOrNat 27) 282) 282) (unknown 28) 282) 282) 282)", "line_no": 282}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 284}, {"action": "newContract", "id": 8, "export": "(storage (record 180 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 184) (variant \"Some\" (params 183) 184) 184))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 286, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(record 287 (arg (record 287 (owner (reduce (attr (account_of_seed \"Alice\" 197) \"address\" 197) 197)) (spender (reduce (attr (account_of_seed \"Robert\" 198) \"address\" 198) 198)))) (target (literal (local-address 8) 181)))", "line_no": 287, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 259)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 287)", "show": true, "valid": "(literal (bool True) 287)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 8 286) \"last\" 288) (unknown 29) 288) 288) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 288) 288) (unknown 29) 288) 288) 288)", "line_no": 288}, {"action": "html", "tag": "h2", "inner": "Counter", "line_no": 290}, {"action": "newContract", "id": 10, "export": "(storage (record 180 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 184) (variant \"Some\" (params 183) 184) 184))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 292, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getCounter", "params": "(record 293 (target (literal (local-address 10) 181)))", "line_no": 293, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 259)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 293)", "show": true, "valid": "(literal (bool True) 293)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 10 292) \"last\" 294) (unknown 30) 294) 294) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 294) 294) (unknown 30) 294) 294) 294)", "line_no": 294}, {"action": "html", "tag": "h2", "inner": "Default Expiry", "line_no": 296}, {"action": "newContract", "id": 12, "export": "(storage (record 180 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 184) (variant \"Some\" (params 183) 184) 184))))\nflags ()\nglobals ()\nentry_points_layout ()\nbalance ())", "line_no": 298, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getDefaultExpiry", "params": "(record 299 (target (literal (local-address 12) 181)))", "line_no": 299, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 1571761674) 259)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 299)", "show": true, "valid": "(literal (bool True) 299)"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 12 298) \"last\" 300) (unknown 31) 300) 300) (pack (type_annotation (variant \"Some\" (literal (intOrNat 360) 300) 300) (unknown 31) 300) 300) 300)", "line_no": 300}]}]