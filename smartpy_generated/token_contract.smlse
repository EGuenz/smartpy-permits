(storage (record 6 (administrator (literal (address "tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY") -1)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 1) (record ((approvals (map "address" "nat")) (balance "nat")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 8 ((literal (string "") -1) (literal (bytes "0x74657a6f732d73746f726167653a6d642d6a736f6e") 8)) ((literal (string "md-json") -1) (literal (bytes "0x7b7d") 8)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple "address" "bytes") (option "nat")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple "address" "bytes") "timestamp") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap "address" (option "nat")) 7)))
storage_type (())
messages ((add_permits True ((set_type (params 42) (list (tuple "key" (tuple "signature" "bytes"))) 43) (verify (invert (attr (data) "paused" 44) 44) False 44) (defineLocal "params_hash" (literal (bytes "0x0000") 46) 46) (defineLocal "unsigned" (literal (bytes "0x0000") 47) 47) (defineLocal "pk_address" (to_address (self) "None") 48) (forGroup "permit" (params 42) ((set (getLocal "params_hash" -1) (second (second (iter "permit" 49) 50) 50) 50) (set (getLocal "unsigned" -1) (pack (tuple 51 (tuple 51 (chain_id) (to_address (self) "None")) (tuple 51 (attr (data) "counter" 51) (getLocal "params_hash" 51))) 51) 51) (set (getLocal "pk_address" -1) (to_address (implicit_account (hash_key (first (iter "permit" 49) 52) 52) 52) 52) 52) (verify (invert (contains (attr (data) "permits" 33) (tuple 53 (getLocal "pk_address" 53) (getLocal "params_hash" 53)) 53) 53) False (tuple 53 (literal (string "DUP_PERMIT") -1) (getLocal "params_hash" 53)) 53) (verify (check_signature (first (iter "permit" 49) 54) (first (second (iter "permit" 49) 54) 54) (getLocal "unsigned" 54) 54) False (tuple 54 (literal (string "MISSIGNED") -1) (getLocal "unsigned" 54)) 54) (set (getItem (attr (data) "permits" 33) (tuple 55 (getLocal "pk_address" 55) (getLocal "params_hash" 55)) 55) (now) 55) (set (attr (data) "counter" 51) (add (attr (data) "counter" 51) (literal (intOrNat 1) 56) 56) 56)) 49))) (approve True ((set_type (params 59) (record ((spender "address") (value "nat")) (Some (("spender") ("value")))) 60) (verify (invert (attr (data) "paused" 44) 61) False 61) (verify (or (eq (getItemDefault (attr (getItem (attr (data) "balances" 62) (sender) 62) "approvals" 62) (attr (params 59) "spender" 62) (literal (intOrNat 0) 62) 62) (literal (intOrNat 0) 63) 63) (eq (attr (params 59) "value" 63) (literal (intOrNat 0) 63) 63) 63) False (literal (string "UnsafeAllowanceChange") 63) 63) (set (getItem (attr (getItem (attr (data) "balances" 62) (sender) 64) "approvals" 64) (attr (params 59) "spender" 62) 64) (attr (params 59) "value" 63) 64))) (burn True ((set_type (params 87) (record ((address "address") (value "nat")) None) 88) (verify (eq (sender) (attr (data) "administrator" 89) 89) False 89) (verify (ge (attr (getItem (attr (data) "balances" 62) (attr (params 87) "address" 90) 90) "balance" 90) (attr (params 87) "value" 90) 90) False 90) (set (attr (getItem (attr (data) "balances" 62) (attr (params 87) "address" 90) 91) "balance" 91) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 62) (attr (params 87) "address" 90) 91) "balance" 91) (attr (params 87) "value" 90) 91) 91) "Some" "None" 91) 91) (set (attr (data) "totalSupply" 92) (openVariant (isNat (sub (attr (data) "totalSupply" 92) (attr (params 87) "value" 90) 92) 92) "Some" "None" 92) 92))) (getAdministrator True ((set (operations 112) (cons (transfer (attr (data) "administrator" 89) (literal (mutez 0) 112) (openVariant (contract "" "address" (attr (params 111) "target" 112) 112) "Some" "None" 112) 112) (operations 112) 112) 112))) (getAllowance True ((set (operations 104) (cons (transfer (getItem (attr (getItem (attr (data) "balances" 62) (attr (attr (params 103) "arg" 104) "owner" 104) 104) "approvals" 104) (attr (attr (params 103) "arg" 104) "spender" 104) 104) (literal (mutez 0) 104) (openVariant (contract "" "nat" (attr (params 103) "target" 104) 104) "Some" "None" 104) 104) (operations 104) 104) 104))) (getBalance True ((set (operations 100) (cons (transfer (attr (getItem (attr (data) "balances" 62) (attr (attr (params 99) "arg" 100) "owner" 100) 100) "balance" 100) (literal (mutez 0) 100) (openVariant (contract "" "nat" (attr (params 99) "target" 100) 100) "Some" "None" 100) 100) (operations 100) 100) 100))) (getCounter True ((set (operations 116) (cons (transfer (attr (data) "counter" 51) (literal (mutez 0) 116) (openVariant (contract "" "nat" (attr (params 115) "target" 116) 116) "Some" "None" 116) 116) (operations 116) 116) 116))) (getDefaultExpiry True ((set (operations 120) (cons (transfer (attr (data) "default_expiry" 120) (literal (mutez 0) 120) (openVariant (contract "" "nat" (attr (params 119) "target" 120) 120) "Some" "None" 120) 120) (operations 120) 120) 120))) (getTotalSupply True ((set (operations 108) (cons (transfer (attr (data) "totalSupply" 92) (literal (mutez 0) 108) (openVariant (contract "" "nat" (attr (params 107) "target" 108) 108) "Some" "None" 108) 108) (operations 108) 108) 108))) (mint True ((set_type (params 79) (record ((address "address") (value "nat")) None) 80) (verify (eq (sender) (attr (data) "administrator" 89) 81) False 81) (ifBlock (invert (contains (attr (data) "balances" 62) (attr (params 79) "address" 82) 95) 95) ((set (getItem (attr (data) "balances" 62) (attr (params 79) "address" 82) 96) (record 96 (approvals (map 96 )) (balance (literal (intOrNat 0) 96))) 96)) 95) (set (attr (getItem (attr (data) "balances" 62) (attr (params 79) "address" 82) 83) "balance" 83) (add (attr (getItem (attr (data) "balances" 62) (attr (params 79) "address" 82) 83) "balance" 83) (attr (params 79) "value" 83) 83) 83) (set (attr (data) "totalSupply" 92) (add (attr (data) "totalSupply" 92) (attr (params 79) "value" 83) 84) 84))) (setAdministrator True ((set_type (params 73) "address" 74) (verify (eq (sender) (attr (data) "administrator" 89) 75) False 75) (set (attr (data) "administrator" 89) (params 73) 76))) (setPause True ((set_type (params 67) "bool" 68) (verify (eq (sender) (attr (data) "administrator" 89) 69) False 69) (set (attr (data) "paused" 44) (params 67) 70))) (transfer True ((set_type (params 11) (record ((from_ "address") (to_ "address") (value "nat")) None) 12) (defineLocal "sender" (sender) 13) (defineLocal "y2" (call_lambda (global "transfer_presigned" -1) (record 14 (in_param (params 11)) (in_storage (data))) 14) 14) (set (data) (attr (getLocal "y2" 14) "storage" 14) 14) (forGroup "op" (attr (getLocal "y2" 14) "operations" 14) ((set (operations 14) (cons (iter "op" 14) (operations 14) 14) 14)) 14) (ifBlock (attr (getLocal "y2" 14) "result" 14) ((set (getLocal "sender" -1) (attr (params 11) "from_" 15) 15)) 14) (verify (or (eq (getLocal "sender" 16) (attr (data) "administrator" 89) 16) (and (invert (attr (data) "paused" 44) 17) (or (eq (attr (params 11) "from_" 15) (getLocal "sender" 18) 18) (ge (getItem (attr (getItem (attr (data) "balances" 62) (attr (params 11) "from_" 15) 19) "approvals" 19) (getLocal "sender" 19) 19) (attr (params 11) "value" 19) 19) 18) 17) 16) False 16) (ifBlock (invert (contains (attr (data) "balances" 62) (attr (params 11) "to_" 20) 95) 95) ((set (getItem (attr (data) "balances" 62) (attr (params 11) "to_" 20) 96) (record 96 (approvals (map 96 )) (balance (literal (intOrNat 0) 96))) 96)) 95) (verify (ge (attr (getItem (attr (data) "balances" 62) (attr (params 11) "from_" 15) 21) "balance" 21) (attr (params 11) "value" 19) 21) False 21) (set (attr (getItem (attr (data) "balances" 62) (attr (params 11) "from_" 15) 22) "balance" 22) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 62) (attr (params 11) "from_" 15) 22) "balance" 22) (attr (params 11) "value" 19) 22) 22) "Some" "None" 22) 22) (set (attr (getItem (attr (data) "balances" 62) (attr (params 11) "to_" 20) 23) "balance" 23) (add (attr (getItem (attr (data) "balances" 62) (attr (params 11) "to_" 20) 23) "balance" 23) (attr (params 11) "value" 19) 23) 23) (ifBlock (and (neq (attr (params 11) "from_" 15) (getLocal "sender" 24) 24) (neq (attr (data) "administrator" 89) (getLocal "sender" 24) 24) 24) ((set (getItem (attr (getItem (attr (data) "balances" 62) (attr (params 11) "from_" 15) 25) "approvals" 25) (getLocal "sender" 25) 25) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) "balances" 62) (attr (params 11) "from_" 15) 25) "approvals" 25) (getLocal "sender" 25) 25) (attr (params 11) "value" 19) 25) 25) "Some" "None" 25) 25)) 24))))
flags ()
globals ((transfer_presigned (lambda 0 "" -1 ((defineLocal "__operations__" (type_annotation (list -1 ) (list "operation") -1) -1) (defineLocal "__storage__" (type_annotation (attr (lambdaParams 0 "" -1 (unknown 2)) "in_storage" -1) (unknown 3) -1) -1) (seq "__s1" ((set_type (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) (record ((from_ "address") (to_ "address") (value "nat")) None) 30) (ifBlock (contains (attr (data) "permits" 33) (tuple 33 (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 33) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 31) 31)) 33) ((delItem (attr (data) "permits" 33) (tuple 35 (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 33) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 31) 31)) 35) (result (literal (bool True) 37) 37)) 33) (elseBlock ((result (literal (bool False) 39) 39)))) -1) (bind "__s1" ((result (record -1 (operations (getLocal "__operations__" -1)) (result (getLocal "__s1" -1)) (storage (getLocal "__storage__" -1))) -1)) -1)))))
entry_points_layout ()
balance ())