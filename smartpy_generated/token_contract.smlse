(storage (record 6 (administrator (literal (address "tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY") -1)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 1) (record ((approvals (map "address" "nat")) (balance "nat")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple "address" "bytes") (option "nat")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple "address" "bytes") "timestamp") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap "address" (option "nat")) 7)))
storage_type (())
messages ((add_permits True ((set_type (params 46) (list (tuple "key" (tuple "signature" "bytes"))) 47) (verify (invert (attr (data) "paused" 13) 48) False 48) (defineLocal "unsigned" (literal (bytes "0x0000") 50) 50) (defineLocal "pk_address" (to_address (self) "None") 51) (forGroup "permit" (params 46) ((set (getLocal "unsigned" -1) (second (second (iter "permit" 52) 53) 53) 53) (set (getLocal "pk_address" -1) (to_address (implicit_account (hash_key (first (iter "permit" 52) 54) 54) 54) 54) 54) (verify (invert (contains (attr (data) "permits" 55) (tuple 55 (getLocal "pk_address" 55) (getLocal "unsigned" 55)) 55) 55) False (literal (string "DUP_PERMIT") 55) 55) (verify (check_signature (first (iter "permit" 52) 56) (first (second (iter "permit" 52) 56) 56) (getLocal "unsigned" 56) 56) False (tuple 56 (literal (string "MISSIGNED") -1) (getLocal "unsigned" 56)) 56) (set (getItem (attr (data) "permits" 55) (tuple 57 (getLocal "pk_address" 57) (getLocal "unsigned" 57)) 57) (now) 57) (set (attr (data) "counter" 58) (add (attr (data) "counter" 58) (literal (intOrNat 1) 58) 58) 58)) 52))) (approve True ((set_type (params 61) (record ((spender "address") (value "nat")) (Some (("spender") ("value")))) 62) (verify (invert (attr (data) "paused" 13) 63) False 63) (verify (or (eq (getItemDefault (attr (getItem (attr (data) "balances" 15) (sender) 64) "approvals" 64) (attr (params 61) "spender" 64) (literal (intOrNat 0) 64) 64) (literal (intOrNat 0) 65) 65) (eq (attr (params 61) "value" 65) (literal (intOrNat 0) 65) 65) 65) False (literal (string "UnsafeAllowanceChange") 65) 65) (set (getItem (attr (getItem (attr (data) "balances" 15) (sender) 66) "approvals" 66) (attr (params 61) "spender" 64) 66) (attr (params 61) "value" 65) 66))) (burn True ((set_type (params 89) (record ((address "address") (value "nat")) None) 90) (verify (eq (sender) (attr (data) "administrator" 12) 91) False 91) (verify (ge (attr (getItem (attr (data) "balances" 15) (attr (params 89) "address" 92) 92) "balance" 92) (attr (params 89) "value" 92) 92) False 92) (set (attr (getItem (attr (data) "balances" 15) (attr (params 89) "address" 92) 93) "balance" 93) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 15) (attr (params 89) "address" 92) 93) "balance" 93) (attr (params 89) "value" 92) 93) 93) "Some" "None" 93) 93) (set (attr (data) "totalSupply" 94) (openVariant (isNat (sub (attr (data) "totalSupply" 94) (attr (params 89) "value" 92) 94) 94) "Some" "None" 94) 94))) (getAdministrator True ((set (operations 114) (cons (transfer (attr (data) "administrator" 12) (literal (mutez 0) 114) (openVariant (contract "" "address" (attr (params 113) "target" 114) 114) "Some" "None" 114) 114) (operations 114) 114) 114))) (getAllowance True ((set (operations 106) (cons (transfer (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (params 105) "arg" 106) "owner" 106) 106) "approvals" 106) (attr (attr (params 105) "arg" 106) "spender" 106) 106) (literal (mutez 0) 106) (openVariant (contract "" "nat" (attr (params 105) "target" 106) 106) "Some" "None" 106) 106) (operations 106) 106) 106))) (getBalance True ((set (operations 102) (cons (transfer (attr (getItem (attr (data) "balances" 15) (attr (attr (params 101) "arg" 102) "owner" 102) 102) "balance" 102) (literal (mutez 0) 102) (openVariant (contract "" "nat" (attr (params 101) "target" 102) 102) "Some" "None" 102) 102) (operations 102) 102) 102))) (getTotalSupply True ((set (operations 110) (cons (transfer (attr (data) "totalSupply" 94) (literal (mutez 0) 110) (openVariant (contract "" "nat" (attr (params 109) "target" 110) 110) "Some" "None" 110) 110) (operations 110) 110) 110))) (mint True ((set_type (params 81) (record ((address "address") (value "nat")) None) 82) (verify (eq (sender) (attr (data) "administrator" 12) 83) False 83) (ifBlock (invert (contains (attr (data) "balances" 15) (attr (params 81) "address" 84) 97) 97) ((set (getItem (attr (data) "balances" 15) (attr (params 81) "address" 84) 98) (record 98 (approvals (map 98 )) (balance (literal (intOrNat 0) 98))) 98)) 97) (set (attr (getItem (attr (data) "balances" 15) (attr (params 81) "address" 84) 85) "balance" 85) (add (attr (getItem (attr (data) "balances" 15) (attr (params 81) "address" 84) 85) "balance" 85) (attr (params 81) "value" 85) 85) 85) (set (attr (data) "totalSupply" 94) (add (attr (data) "totalSupply" 94) (attr (params 81) "value" 85) 86) 86))) (setAdministrator True ((set_type (params 75) "address" 76) (verify (eq (sender) (attr (data) "administrator" 12) 77) False 77) (set (attr (data) "administrator" 12) (params 75) 78))) (setPause True ((set_type (params 69) "bool" 70) (verify (eq (sender) (attr (data) "administrator" 12) 71) False 71) (set (attr (data) "paused" 13) (params 69) 72))) (transfer True ((set_type (params 24) (record ((from_ "address") (to_ "address") (value "nat")) None) 25) (defineLocal "y2" (call_lambda (global "transfer_helper" -1) (record 27 (in_param (record 26 (from_ (attr (params 24) "from_" 26)) (sender_ (sender)) (to_ (attr (params 24) "to_" 26)) (value (attr (params 24) "value" 26)))) (in_storage (data))) 27) 27) (set (data) (attr (getLocal "y2" 27) "storage" 27) 27) (forGroup "op" (attr (getLocal "y2" 27) "operations" 27) ((set (operations 27) (cons (iter "op" 27) (operations 27) 27) 27)) 27))) (transfer_signed True ((set_type (params 30) (record ((counter "nat") (from_ "address") (to_ "address") (value "nat")) None) 31) (defineLocal "sender" (sender) 32) (ifBlock (neq (attr (params 30) "from_" 33) (getLocal "sender" 33) 33) ((verify (contains (attr (data) "permits" 55) (tuple 37 (attr (params 30) "from_" 33) (pack (tuple 35 (tuple 35 (chain_id) (to_address (self) "None")) (tuple 35 (attr (params 30) "counter" 35) (hashCrypto "BLAKE2B" (pack (tuple 34 (attr (params 30) "from_" 33) (tuple 34 (attr (params 30) "to_" 34) (attr (params 30) "value" 34))) 34) 34))) 35)) 37) False (tuple 38 (literal (string "NO_PERMIT") -1) (tuple 38 (attr (params 30) "from_" 33) (pack (tuple 35 (tuple 35 (chain_id) (to_address (self) "None")) (tuple 35 (attr (params 30) "counter" 35) (hashCrypto "BLAKE2B" (pack (tuple 34 (attr (params 30) "from_" 33) (tuple 34 (attr (params 30) "to_" 34) (attr (params 30) "value" 34))) 34) 34))) 35))) 37) (delItem (attr (data) "permits" 55) (tuple 40 (attr (params 30) "from_" 33) (pack (tuple 35 (tuple 35 (chain_id) (to_address (self) "None")) (tuple 35 (attr (params 30) "counter" 35) (hashCrypto "BLAKE2B" (pack (tuple 34 (attr (params 30) "from_" 33) (tuple 34 (attr (params 30) "to_" 34) (attr (params 30) "value" 34))) 34) 34))) 35)) 40) (set (getLocal "sender" -1) (attr (params 30) "from_" 33) 42)) 33) (defineLocal "y3" (call_lambda (global "transfer_helper" -1) (record 43 (in_param (record 43 (from_ (attr (params 30) "from_" 33)) (sender_ (getLocal "sender" 43)) (to_ (attr (params 30) "to_" 34)) (value (attr (params 30) "value" 34)))) (in_storage (data))) 43) 43) (set (data) (attr (getLocal "y3" 43) "storage" 43) 43) (forGroup "op" (attr (getLocal "y3" 43) "operations" 43) ((set (operations 43) (cons (iter "op" 43) (operations 43) 43) 43)) 43))))
flags ()
globals ((transfer_helper (lambda 0 "" -1 ((defineLocal "__operations__" (type_annotation (list -1 ) (list "operation") -1) -1) (defineLocal "__storage__" (type_annotation (attr (lambdaParams 0 "" -1 (unknown 2)) "in_storage" -1) (unknown 3) -1) -1) (seq "__s1" ((verify (or (eq (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) (attr (data) "administrator" 12) 12) (and (invert (attr (data) "paused" 13) 13) (or (eq (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 14) (ge (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 15) "approvals" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 15) 14) 13) 12) False 12) (ifBlock (invert (contains (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 97) 97) ((set (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 98) (record 98 (approvals (map 98 )) (balance (literal (intOrNat 0) 98))) 98)) 97) (verify (ge (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 17) "balance" 17) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 17) False 17) (set (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 18) "balance" 18) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 18) "balance" 18) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 18) 18) "Some" "None" 18) 18) (set (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 19) "balance" 19) (add (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 19) "balance" 19) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 19) 19) (ifBlock (and (neq (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 20) (neq (attr (data) "administrator" 12) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 20) 20) ((set (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 21) "approvals" 21) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 21) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 21) "approvals" 21) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 21) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 21) 21) "Some" "None" 21) 21)) 20)) -1) (bind "__s1" ((result (record -1 (operations (getLocal "__operations__" -1)) (result (getLocal "__s1" -1)) (storage (getLocal "__storage__" -1))) -1)) -1)))))
entry_points_layout ()
balance ())