(storage (record 6 (administrator (literal (address "tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY") -1)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 1) (record ((approvals (map "address" "nat")) (balance "nat")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 9 ((literal (string "") -1) (literal (bytes "0x74657a6f732d73746f726167653a6d642d6a736f6e") 9)) ((literal (string "md-json") -1) (literal (bytes "0x7b7d") 9)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple "address" "bytes") (option "nat")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple "address" "bytes") "timestamp") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap "address" (option "nat")) 7)))
storage_type (())
messages ((approve True ((set_type (params 114) (record ((spender "address") (value "nat")) (Some (("spender") ("value")))) 115) (verify (invert (attr (data) "paused" 116) 116) False 116) (verify (or (eq (getItemDefault (attr (getItem (attr (data) "balances" 117) (sender) 117) "approvals" 117) (attr (params 114) "spender" 117) (literal (intOrNat 0) 117) 117) (literal (intOrNat 0) 118) 118) (eq (attr (params 114) "value" 118) (literal (intOrNat 0) 118) 118) 118) False (literal (string "UnsafeAllowanceChange") 118) 118) (set (getItem (attr (getItem (attr (data) "balances" 117) (sender) 119) "approvals" 119) (attr (params 114) "spender" 117) 119) (attr (params 114) "value" 118) 119))) (burn True ((set_type (params 142) (record ((address "address") (value "nat")) None) 143) (verify (eq (sender) (attr (data) "administrator" 144) 144) False 144) (verify (ge (attr (getItem (attr (data) "balances" 117) (attr (params 142) "address" 145) 145) "balance" 145) (attr (params 142) "value" 145) 145) False 145) (set (attr (getItem (attr (data) "balances" 117) (attr (params 142) "address" 145) 146) "balance" 146) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 117) (attr (params 142) "address" 145) 146) "balance" 146) (attr (params 142) "value" 145) 146) 146) "Some" "None" 146) 146) (set (attr (data) "totalSupply" 147) (openVariant (isNat (sub (attr (data) "totalSupply" 147) (attr (params 142) "value" 145) 147) 147) "Some" "None" 147) 147))) (getAdministrator True ((set (operations 167) (cons (transfer (attr (data) "administrator" 144) (literal (mutez 0) 167) (openVariant (contract "" "address" (attr (params 166) "target" 167) 167) "Some" "None" 167) 167) (operations 167) 167) 167))) (getAllowance True ((set (operations 159) (cons (transfer (getItem (attr (getItem (attr (data) "balances" 117) (attr (attr (params 158) "arg" 159) "owner" 159) 159) "approvals" 159) (attr (attr (params 158) "arg" 159) "spender" 159) 159) (literal (mutez 0) 159) (openVariant (contract "" "nat" (attr (params 158) "target" 159) 159) "Some" "None" 159) 159) (operations 159) 159) 159))) (getBalance True ((set (operations 155) (cons (transfer (attr (getItem (attr (data) "balances" 117) (attr (attr (params 154) "arg" 155) "owner" 155) 155) "balance" 155) (literal (mutez 0) 155) (openVariant (contract "" "nat" (attr (params 154) "target" 155) 155) "Some" "None" 155) 155) (operations 155) 155) 155))) (getCounter True ((set (operations 171) (cons (transfer (attr (data) "counter" 171) (literal (mutez 0) 171) (openVariant (contract "" "nat" (attr (params 170) "target" 171) 171) "Some" "None" 171) 171) (operations 171) 171) 171))) (getDefaultExpiry True ((set (operations 175) (cons (transfer (attr (data) "default_expiry" 88) (literal (mutez 0) 175) (openVariant (contract "" "nat" (attr (params 174) "target" 175) 175) "Some" "None" 175) 175) (operations 175) 175) 175))) (getTotalSupply True ((set (operations 163) (cons (transfer (attr (data) "totalSupply" 147) (literal (mutez 0) 163) (openVariant (contract "" "nat" (attr (params 162) "target" 163) 163) "Some" "None" 163) 163) (operations 163) 163) 163))) (mint True ((set_type (params 134) (record ((address "address") (value "nat")) None) 135) (verify (eq (sender) (attr (data) "administrator" 144) 136) False 136) (ifBlock (invert (contains (attr (data) "balances" 117) (attr (params 134) "address" 137) 150) 150) ((set (getItem (attr (data) "balances" 117) (attr (params 134) "address" 137) 151) (record 151 (approvals (map 151 )) (balance (literal (intOrNat 0) 151))) 151)) 150) (set (attr (getItem (attr (data) "balances" 117) (attr (params 134) "address" 137) 138) "balance" 138) (add (attr (getItem (attr (data) "balances" 117) (attr (params 134) "address" 137) 138) "balance" 138) (attr (params 134) "value" 138) 138) 138) (set (attr (data) "totalSupply" 147) (add (attr (data) "totalSupply" 147) (attr (params 134) "value" 138) 139) 139))) (permit True ((set_type (params 58) (list (tuple "key" (tuple "signature" "bytes"))) 59) (verify (invert (attr (data) "paused" 116) 60) False 60) (forGroup "permit" (params 58) ((defineLocal "y3" (call_lambda (global "getEffectiveExpiry" -1) (record 68 (in_param (tuple 68 (to_address (implicit_account (hash_key (first (iter "permit" 62) 65) 65) 65) 65) (second (second (iter "permit" 62) 63) 63))) (in_storage (data))) 68) 68) (set (data) (attr (getLocal "y3" 68) "storage" 68) 68) (forGroup "op" (attr (getLocal "y3" 68) "operations" 68) ((set (operations 68) (cons (iter "op" 68) (operations 68) 68) 68)) 68) (verify (invert (and (contains (attr (data) "permits" 36) (tuple 66 (to_address (implicit_account (hash_key (first (iter "permit" 62) 65) 65) 65) 65) (second (second (iter "permit" 62) 63) 63)) 67) (lt (openVariant (isNat (sub (now) (getItem (attr (data) "permits" 36) (tuple 66 (to_address (implicit_account (hash_key (first (iter "permit" 62) 65) 65) 65) 65) (second (second (iter "permit" 62) 63) 63)) 69) 70) 70) "Some" "None" 70) (attr (getLocal "y3" 68) "result" 68) 70) 70) 70) False (tuple 71 (literal (string "DUP_PERMIT") -1) (second (second (iter "permit" 62) 63) 63)) 70) (verify (check_signature (first (iter "permit" 62) 72) (first (second (iter "permit" 62) 72) 72) (pack (tuple 64 (tuple 64 (chain_id) (to_address (self) "None")) (tuple 64 (attr (data) "counter" 171) (second (second (iter "permit" 62) 63) 63))) 64) 72) False (tuple 72 (literal (string "MISSIGNED") -1) (pack (tuple 64 (tuple 64 (chain_id) (to_address (self) "None")) (tuple 64 (attr (data) "counter" 171) (second (second (iter "permit" 62) 63) 63))) 64)) 72) (set (getItem (attr (data) "permits" 36) (tuple 73 (to_address (implicit_account (hash_key (first (iter "permit" 62) 65) 65) 65) 65) (second (second (iter "permit" 62) 63) 63)) 73) (now) 73) (set (attr (data) "counter" 171) (add (attr (data) "counter" 171) (literal (intOrNat 1) 74) 74) 74)) 62))) (setAdministrator True ((set_type (params 128) "address" 129) (verify (eq (sender) (attr (data) "administrator" 144) 130) False 130) (set (attr (data) "administrator" 144) (params 128) 131))) (setExpiry True ((set_type (params 91) (record ((address "address") (permit (option "bytes")) (seconds "nat")) None) 92) (verify (invert (attr (data) "paused" 116) 93) False 93) (verify (eq (pack (type_annotation (attr (params 91) "address" 94) (unknown 10) 94) 94) (pack (type_annotation (sender) (unknown 10) 94) 94) 94) "NOT_AUTHORIZED" (literal (bool False) 94) 94) (ifBlock (isVariant (attr (params 91) "permit" 95) "Some" 95) ((verify (contains (attr (data) "permits" 36) (tuple 97 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 97) False (literal (string "PERMIT_NONEXISTENT") 97) 97) (ifBlock (and (contains (attr (data) "permit_expiries" 80) (tuple 99 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 99) (isVariant (getItem (attr (data) "permit_expiries" 80) (tuple 99 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 99) "Some" 99) 99) ((verify (lt (openVariant (isNat (sub (now) (getItem (attr (data) "permits" 36) (tuple 98 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 98) 101) 101) "Some" "None" 101) (openVariant (getItem (attr (data) "permit_expiries" 80) (tuple 100 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 100) "Some" "None" 100) 101) False (literal (string "PERMIT_REVOKED") 101) 101)) 99) (elseBlock ((ifBlock (and (contains (attr (data) "user_expiries" 84) (attr (params 91) "address" 94) 103) (isVariant (getItem (attr (data) "user_expiries" 84) (attr (params 91) "address" 94) 103) "Some" 103) 103) ((verify (lt (openVariant (isNat (sub (now) (getItem (attr (data) "permits" 36) (tuple 98 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 98) 105) 105) "Some" "None" 105) (openVariant (getItem (attr (data) "user_expiries" 84) (attr (params 91) "address" 94) 104) "Some" "None" 104) 105) False (literal (string "PERMIT_REVOKED") 105) 105)) 103) (elseBlock ((verify (lt (openVariant (isNat (sub (now) (getItem (attr (data) "permits" 36) (tuple 98 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 98) 107) 107) "Some" "None" 107) (attr (data) "default_expiry" 88) 107) False (literal (string "PERMIT_REVOKED") 107) 107))))) (set (getItem (attr (data) "permit_expiries" 80) (tuple 108 (attr (params 91) "address" 94) (openVariant (attr (params 91) "permit" 95) "Some" "None" 96)) 108) (variant "Some" (attr (params 91) "seconds" 108) 108) 108)) 95) (elseBlock ((set (getItem (attr (data) "user_expiries" 84) (attr (params 91) "address" 94) 111) (variant "Some" (attr (params 91) "seconds" 108) 111) 111))))) (setPause True ((set_type (params 122) "bool" 123) (verify (eq (sender) (attr (data) "administrator" 144) 124) False 124) (set (attr (data) "paused" 116) (params 122) 125))) (transfer True ((set_type (params 12) (record ((from_ "address") (to_ "address") (value "nat")) None) 13) (defineLocal "sender" (sender) 14) (defineLocal "y4" (call_lambda (global "transfer_presigned" -1) (record 15 (in_param (params 12)) (in_storage (data))) 15) 15) (set (data) (attr (getLocal "y4" 15) "storage" 15) 15) (forGroup "op" (attr (getLocal "y4" 15) "operations" 15) ((set (operations 15) (cons (iter "op" 15) (operations 15) 15) 15)) 15) (ifBlock (attr (getLocal "y4" 15) "result" 15) ((set (getLocal "sender" -1) (attr (params 12) "from_" 17) 17)) 15) (verify (or (eq (getLocal "sender" 18) (attr (data) "administrator" 144) 18) (and (invert (attr (data) "paused" 116) 19) (or (eq (attr (params 12) "from_" 17) (getLocal "sender" 20) 20) (ge (getItem (attr (getItem (attr (data) "balances" 117) (attr (params 12) "from_" 17) 21) "approvals" 21) (getLocal "sender" 21) 21) (attr (params 12) "value" 21) 21) 20) 19) 18) False 18) (ifBlock (invert (contains (attr (data) "balances" 117) (attr (params 12) "to_" 22) 150) 150) ((set (getItem (attr (data) "balances" 117) (attr (params 12) "to_" 22) 151) (record 151 (approvals (map 151 )) (balance (literal (intOrNat 0) 151))) 151)) 150) (verify (ge (attr (getItem (attr (data) "balances" 117) (attr (params 12) "from_" 17) 23) "balance" 23) (attr (params 12) "value" 21) 23) False 23) (set (attr (getItem (attr (data) "balances" 117) (attr (params 12) "from_" 17) 24) "balance" 24) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 117) (attr (params 12) "from_" 17) 24) "balance" 24) (attr (params 12) "value" 21) 24) 24) "Some" "None" 24) 24) (set (attr (getItem (attr (data) "balances" 117) (attr (params 12) "to_" 22) 25) "balance" 25) (add (attr (getItem (attr (data) "balances" 117) (attr (params 12) "to_" 22) 25) "balance" 25) (attr (params 12) "value" 21) 25) 25) (ifBlock (and (neq (attr (params 12) "from_" 17) (getLocal "sender" 26) 26) (neq (attr (data) "administrator" 144) (getLocal "sender" 26) 26) 26) ((set (getItem (attr (getItem (attr (data) "balances" 117) (attr (params 12) "from_" 17) 27) "approvals" 27) (getLocal "sender" 27) 27) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) "balances" 117) (attr (params 12) "from_" 17) 27) "approvals" 27) (getLocal "sender" 27) 27) (attr (params 12) "value" 21) 27) 27) "Some" "None" 27) 27)) 26))))
flags ()
globals ((getEffectiveExpiry (lambda 0 "" -1 ((defineLocal "__operations__" (type_annotation (list -1 ) (list "operation") -1) -1) (defineLocal "__storage__" (type_annotation (attr (lambdaParams 0 "" -1 (unknown 2)) "in_storage" -1) (unknown 3) -1) -1) (seq "__s1" ((set_type (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) (tuple "address" "bytes") 78) (ifBlock (and (contains (attr (data) "permit_expiries" 80) (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 80) (isVariant (getItem (attr (data) "permit_expiries" 80) (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 80) "Some" 80) 80) ((result (openVariant (getItem (attr (data) "permit_expiries" 80) (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 81) "Some" "None" 81) 82)) 80) (elseBlock ((ifBlock (and (contains (attr (data) "user_expiries" 84) (first (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 79) 84) (isVariant (getItem (attr (data) "user_expiries" 84) (first (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 79) 84) "Some" 84) 84) ((result (openVariant (getItem (attr (data) "user_expiries" 84) (first (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) 79) 85) "Some" "None" 85) 86)) 84) (elseBlock ((result (attr (data) "default_expiry" 88) 88)))))) -1) (bind "__s1" ((result (record -1 (operations (getLocal "__operations__" -1)) (result (getLocal "__s1" -1)) (storage (getLocal "__storage__" -1))) -1)) -1)))) (transfer_presigned (lambda 1 "" -1 ((defineLocal "__operations__" (type_annotation (list -1 ) (list "operation") -1) -1) (defineLocal "__storage__" (type_annotation (attr (lambdaParams 1 "" -1 (unknown 4)) "in_storage" -1) (unknown 5) -1) -1) (seq "__s2" ((set_type (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) (record ((from_ "address") (to_ "address") (value "nat")) None) 31) (defineLocal "effective_expiry" (literal (intOrNat 0) 35) 35) (ifBlock (contains (attr (data) "permits" 36) (tuple 34 (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) 32) 32)) 36) ((ifBlock (and (contains (attr (data) "permit_expiries" 80) (tuple 34 (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) 32) 32)) 38) (isVariant (getItem (attr (data) "permit_expiries" 80) (tuple 34 (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) 32) 32)) 38) "Some" 38) 38) ((set (getLocal "effective_expiry" -1) (openVariant (getItem (attr (data) "permit_expiries" 80) (tuple 34 (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) 32) 32)) 39) "Some" "None" 39) 39)) 38) (elseBlock ((ifBlock (and (contains (attr (data) "user_expiries" 84) (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) 41) (isVariant (getItem (attr (data) "user_expiries" 84) (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) 41) "Some" 41) 41) ((set (getLocal "effective_expiry" -1) (openVariant (getItem (attr (data) "user_expiries" 84) (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) 42) "Some" "None" 42) 42)) 41) (elseBlock ((set (getLocal "effective_expiry" -1) (attr (data) "default_expiry" 88) 44))))) (ifBlock (ge (openVariant (isNat (sub (now) (getItem (attr (data) "permits" 36) (tuple 34 (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) 32) 32)) 37) 47) 47) "Some" "None" 47) (getLocal "effective_expiry" 47) 47) ((delItem (attr (data) "permits" 36) (tuple 49 (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) 32) 32)) 49) (result (literal (bool False) 50) 50)) 47) (elseBlock ((delItem (attr (data) "permits" 36) (tuple 52 (attr (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) "from_" 34) (hashCrypto "BLAKE2B" (pack (attr (lambdaParams 1 "" -1 (unknown 4)) "in_param" -1) 32) 32)) 52) (result (literal (bool True) 53) 53)))) 36) (elseBlock ((result (literal (bool False) 55) 55)))) -1) (bind "__s2" ((result (record -1 (operations (getLocal "__operations__" -1)) (result (getLocal "__s2" -1)) (storage (getLocal "__storage__" -1))) -1)) -1)))))
entry_points_layout ()
balance ())