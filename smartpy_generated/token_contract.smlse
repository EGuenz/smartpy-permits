(storage (record 6 (administrator (literal (address "tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY") -1)) (balances (type_annotation (big_map 6 ) (bigmap (unknown 1) (record ((approvals (map "address" "nat")) (balance "nat")) None)) 6)) (counter (literal (intOrNat 0) 6)) (default_expiry (literal (intOrNat 360) 6)) (metadata (big_map 8 ((literal (string "") -1) (literal (bytes "0x74657a6f732d73746f726167653a") 8)))) (paused (literal (bool False) 6)) (permit_expiries (type_annotation (big_map 8 ) (bigmap (tuple "address" "bytes") (option "nat")) 8)) (permits (type_annotation (big_map 7 ) (bigmap (tuple "address" "bytes") "timestamp") 7)) (totalSupply (literal (intOrNat 0) 6)) (user_expiries (type_annotation (big_map 7 ) (bigmap "address" (option "nat")) 7)))
storage_type (())
messages ((add_permits True ((set_type (params 45) (list (tuple "key" (tuple "signature" "bytes"))) 46) (verify (invert (attr (data) "paused" 13) 47) False 47) (defineLocal "params_hash" (literal (bytes "0x0000") 49) 49) (defineLocal "unsigned" (literal (bytes "0x0000") 50) 50) (defineLocal "pk_address" (to_address (self) "None") 51) (forGroup "permit" (params 45) ((set (getLocal "params_hash" -1) (second (second (iter "permit" 52) 53) 53) 53) (set (getLocal "unsigned" -1) (pack (tuple 54 (tuple 54 (chain_id) (to_address (self) "None")) (tuple 54 (attr (data) "counter" 54) (getLocal "params_hash" 54))) 54) 54) (set (getLocal "pk_address" -1) (to_address (implicit_account (hash_key (first (iter "permit" 52) 55) 55) 55) 55) 55) (verify (invert (contains (attr (data) "permits" 56) (tuple 56 (getLocal "pk_address" 56) (getLocal "params_hash" 56)) 56) 56) False (tuple 56 (literal (string "DUP_PERMIT") -1) (getLocal "params_hash" 56)) 56) (verify (check_signature (first (iter "permit" 52) 57) (first (second (iter "permit" 52) 57) 57) (getLocal "unsigned" 57) 57) False (tuple 57 (literal (string "MISSIGNED") -1) (getLocal "unsigned" 57)) 57) (set (getItem (attr (data) "permits" 56) (tuple 58 (getLocal "pk_address" 58) (getLocal "params_hash" 58)) 58) (now) 58) (set (attr (data) "counter" 54) (add (attr (data) "counter" 54) (literal (intOrNat 1) 59) 59) 59)) 52))) (approve True ((set_type (params 62) (record ((spender "address") (value "nat")) (Some (("spender") ("value")))) 63) (verify (invert (attr (data) "paused" 13) 64) False 64) (verify (or (eq (getItemDefault (attr (getItem (attr (data) "balances" 15) (sender) 65) "approvals" 65) (attr (params 62) "spender" 65) (literal (intOrNat 0) 65) 65) (literal (intOrNat 0) 66) 66) (eq (attr (params 62) "value" 66) (literal (intOrNat 0) 66) 66) 66) False (literal (string "UnsafeAllowanceChange") 66) 66) (set (getItem (attr (getItem (attr (data) "balances" 15) (sender) 67) "approvals" 67) (attr (params 62) "spender" 65) 67) (attr (params 62) "value" 66) 67))) (burn True ((set_type (params 90) (record ((address "address") (value "nat")) None) 91) (verify (eq (sender) (attr (data) "administrator" 12) 92) False 92) (verify (ge (attr (getItem (attr (data) "balances" 15) (attr (params 90) "address" 93) 93) "balance" 93) (attr (params 90) "value" 93) 93) False 93) (set (attr (getItem (attr (data) "balances" 15) (attr (params 90) "address" 93) 94) "balance" 94) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 15) (attr (params 90) "address" 93) 94) "balance" 94) (attr (params 90) "value" 93) 94) 94) "Some" "None" 94) 94) (set (attr (data) "totalSupply" 95) (openVariant (isNat (sub (attr (data) "totalSupply" 95) (attr (params 90) "value" 93) 95) 95) "Some" "None" 95) 95))) (getAdministrator True ((set (operations 115) (cons (transfer (attr (data) "administrator" 12) (literal (mutez 0) 115) (openVariant (contract "" "address" (attr (params 114) "target" 115) 115) "Some" "None" 115) 115) (operations 115) 115) 115))) (getAllowance True ((set (operations 107) (cons (transfer (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (params 106) "arg" 107) "owner" 107) 107) "approvals" 107) (attr (attr (params 106) "arg" 107) "spender" 107) 107) (literal (mutez 0) 107) (openVariant (contract "" "nat" (attr (params 106) "target" 107) 107) "Some" "None" 107) 107) (operations 107) 107) 107))) (getBalance True ((set (operations 103) (cons (transfer (attr (getItem (attr (data) "balances" 15) (attr (attr (params 102) "arg" 103) "owner" 103) 103) "balance" 103) (literal (mutez 0) 103) (openVariant (contract "" "nat" (attr (params 102) "target" 103) 103) "Some" "None" 103) 103) (operations 103) 103) 103))) (getTotalSupply True ((set (operations 111) (cons (transfer (attr (data) "totalSupply" 95) (literal (mutez 0) 111) (openVariant (contract "" "nat" (attr (params 110) "target" 111) 111) "Some" "None" 111) 111) (operations 111) 111) 111))) (mint True ((set_type (params 82) (record ((address "address") (value "nat")) None) 83) (verify (eq (sender) (attr (data) "administrator" 12) 84) False 84) (ifBlock (invert (contains (attr (data) "balances" 15) (attr (params 82) "address" 85) 98) 98) ((set (getItem (attr (data) "balances" 15) (attr (params 82) "address" 85) 99) (record 99 (approvals (map 99 )) (balance (literal (intOrNat 0) 99))) 99)) 98) (set (attr (getItem (attr (data) "balances" 15) (attr (params 82) "address" 85) 86) "balance" 86) (add (attr (getItem (attr (data) "balances" 15) (attr (params 82) "address" 85) 86) "balance" 86) (attr (params 82) "value" 86) 86) 86) (set (attr (data) "totalSupply" 95) (add (attr (data) "totalSupply" 95) (attr (params 82) "value" 86) 87) 87))) (setAdministrator True ((set_type (params 76) "address" 77) (verify (eq (sender) (attr (data) "administrator" 12) 78) False 78) (set (attr (data) "administrator" 12) (params 76) 79))) (setPause True ((set_type (params 70) "bool" 71) (verify (eq (sender) (attr (data) "administrator" 12) 72) False 72) (set (attr (data) "paused" 13) (params 70) 73))) (transfer True ((set_type (params 24) (record ((from_ "address") (to_ "address") (value "nat")) None) 25) (defineLocal "y2" (call_lambda (global "transfer_helper" -1) (record 27 (in_param (record 26 (from_ (attr (params 24) "from_" 26)) (sender_ (sender)) (to_ (attr (params 24) "to_" 26)) (value (attr (params 24) "value" 26)))) (in_storage (data))) 27) 27) (set (data) (attr (getLocal "y2" 27) "storage" 27) 27) (forGroup "op" (attr (getLocal "y2" 27) "operations" 27) ((set (operations 27) (cons (iter "op" 27) (operations 27) 27) 27)) 27))) (transfer_signed True ((set_type (params 30) (record ((from_ "address") (to_ "address") (value "nat")) None) 31) (defineLocal "sender" (sender) 32) (ifBlock (neq (attr (params 30) "from_" 33) (getLocal "sender" 33) 33) ((verify (contains (attr (data) "permits" 56) (tuple 36 (attr (params 30) "from_" 33) (hashCrypto "BLAKE2B" (pack (params 30) 34) 34)) 36) False (tuple 37 (literal (string "NO_PERMIT") -1) (tuple 37 (attr (params 30) "from_" 33) (hashCrypto "BLAKE2B" (pack (params 30) 34) 34))) 36) (delItem (attr (data) "permits" 56) (tuple 39 (attr (params 30) "from_" 33) (hashCrypto "BLAKE2B" (pack (params 30) 34) 34)) 39) (set (getLocal "sender" -1) (attr (params 30) "from_" 33) 41)) 33) (defineLocal "y3" (call_lambda (global "transfer_helper" -1) (record 42 (in_param (record 42 (from_ (attr (params 30) "from_" 33)) (sender_ (getLocal "sender" 42)) (to_ (attr (params 30) "to_" 42)) (value (attr (params 30) "value" 42)))) (in_storage (data))) 42) 42) (set (data) (attr (getLocal "y3" 42) "storage" 42) 42) (forGroup "op" (attr (getLocal "y3" 42) "operations" 42) ((set (operations 42) (cons (iter "op" 42) (operations 42) 42) 42)) 42))))
flags ()
globals ((transfer_helper (lambda 0 "" -1 ((defineLocal "__operations__" (type_annotation (list -1 ) (list "operation") -1) -1) (defineLocal "__storage__" (type_annotation (attr (lambdaParams 0 "" -1 (unknown 2)) "in_storage" -1) (unknown 3) -1) -1) (seq "__s1" ((verify (or (eq (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) (attr (data) "administrator" 12) 12) (and (invert (attr (data) "paused" 13) 13) (or (eq (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 14) (ge (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 15) "approvals" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 15) 14) 13) 12) False 12) (ifBlock (invert (contains (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 98) 98) ((set (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 99) (record 99 (approvals (map 99 )) (balance (literal (intOrNat 0) 99))) 99)) 98) (verify (ge (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 17) "balance" 17) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 17) False 17) (set (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 18) "balance" 18) (openVariant (isNat (sub (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 18) "balance" 18) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 18) 18) "Some" "None" 18) 18) (set (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 19) "balance" 19) (add (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "to_" 16) 19) "balance" 19) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 19) 19) (ifBlock (and (neq (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 20) (neq (attr (data) "administrator" 12) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 20) 20) ((set (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 21) "approvals" 21) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 21) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) "balances" 15) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "from_" 14) 21) "approvals" 21) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "sender_" 12) 21) (attr (attr (lambdaParams 0 "" -1 (unknown 2)) "in_param" -1) "value" 15) 21) 21) "Some" "None" 21) 21)) 20)) -1) (bind "__s1" ((result (record -1 (operations (getLocal "__operations__" -1)) (result (getLocal "__s1" -1)) (storage (getLocal "__storage__" -1))) -1)) -1)))))
entry_points_layout ()
balance ())